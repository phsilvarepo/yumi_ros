[
    {
        "id": "f6f2187d.f17ca8",
        "type": "tab",
        "label": "YUMI BRIDGE",
        "disabled": false,
        "info": ""
    },
    {
        "id": "c68dc494590553a0",
        "type": "tab",
        "label": "YUMI SIM",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "58de6cfd0e1f91cf",
        "type": "tab",
        "label": "WORLD OBJECTS",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a88af1e1e73ea3b9",
        "type": "tab",
        "label": "COMMON",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "98acc585bfe962b1",
        "type": "ros-server",
        "url": "ws://10.0.1.166:9090"
    },
    {
        "id": "4bf02018241b669e",
        "type": "ros-server",
        "url": "ws://10.0.1.35:9091"
    },
    {
        "id": "4e125a295347f507",
        "type": "ui-base",
        "name": "YUMI Dashboard",
        "path": "/dashboard",
        "appIcon": "",
        "includeClientData": true,
        "acceptsClientConfig": [
            "ui-notification",
            "ui-control"
        ],
        "showPathInSidebar": false,
        "headerContent": "page",
        "navigationStyle": "default",
        "titleBarStyle": "default",
        "showReconnectNotification": true,
        "notificationDisplayTime": 1,
        "showDisconnectNotification": true,
        "allowInstall": false
    },
    {
        "id": "43d152f59436dab1",
        "type": "ui-theme",
        "name": "Default Theme",
        "colors": {
            "surface": "#ffffff",
            "primary": "#464c4e",
            "bgPage": "#eeeeee",
            "groupBg": "#ffffff",
            "groupOutline": "#cccccc"
        },
        "sizes": {
            "density": "default",
            "pagePadding": "12px",
            "groupGap": "12px",
            "groupBorderRadius": "4px",
            "widgetGap": "12px"
        }
    },
    {
        "id": "82fc5575064a24b6",
        "type": "ui-page",
        "name": "SPL YUMI DASHBOARD",
        "ui": "4e125a295347f507",
        "path": "/spl_yumi_dashboard",
        "icon": "home",
        "layout": "grid",
        "theme": "43d152f59436dab1",
        "breakpoints": [
            {
                "name": "Default",
                "px": "0",
                "cols": "3"
            },
            {
                "name": "Tablet",
                "px": "576",
                "cols": "6"
            },
            {
                "name": "Small Desktop",
                "px": "768",
                "cols": "9"
            },
            {
                "name": "Desktop",
                "px": "1024",
                "cols": "12"
            }
        ],
        "order": 1,
        "className": "",
        "visible": "true",
        "disabled": "false"
    },
    {
        "id": "1a9c1a14e1ddeeed",
        "type": "ui-group",
        "name": "Group 1",
        "page": "82fc5575064a24b6",
        "width": 6,
        "height": 1,
        "order": 7,
        "showTitle": true,
        "className": "",
        "visible": true,
        "disabled": false,
        "groupType": "default"
    },
    {
        "id": "71a7f9f66f1df546",
        "type": "mqtt-broker",
        "name": "",
        "broker": "$(BROKER_SERVICE_HOST)",
        "port": "$(BROKER_SERVICE_PORT)",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthRetain": "false",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closeRetain": "false",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willRetain": "false",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "b83b88304d55b606",
        "type": "ros-server",
        "d": true,
        "url": "ws://ROS_BRIDGE_MOVEIT_SERVER:ROS_BRIDGE_MOVEIT_PORT"
    },
    {
        "id": "89bbbc2824d7a4c3",
        "type": "ui-group",
        "name": "YUMI AAS",
        "page": "82fc5575064a24b6",
        "width": 6,
        "height": 1,
        "order": 6,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "24c4815848824551",
        "type": "ui-group",
        "name": "Joint Control",
        "page": "82fc5575064a24b6",
        "width": 6,
        "height": 1,
        "order": 5,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "753f34d0c1ed001e",
        "type": "ui-group",
        "name": "Pose Control",
        "page": "82fc5575064a24b6",
        "width": 6,
        "height": 1,
        "order": 4,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "e2828d41d9660087",
        "type": "ui-group",
        "name": "SPL ACTIONS",
        "page": "82fc5575064a24b6",
        "width": 6,
        "height": 1,
        "order": 2,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "f782952bb3d11cd4",
        "type": "global-config",
        "env": [],
        "modules": {
            "node-red-contrib-flowake-ros-nodes": "1.2.0",
            "@flowfuse/node-red-dashboard": "1.30.2"
        }
    },
    {
        "id": "a9c613c8ecaed95c",
        "type": "ui-group",
        "name": "ISAAC SIM",
        "page": "82fc5575064a24b6",
        "width": 6,
        "height": 1,
        "order": 3,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "70db46e8f99cb872",
        "type": "ui-group",
        "name": "MOVEIT!",
        "page": "82fc5575064a24b6",
        "width": 6,
        "height": 1,
        "order": 1,
        "showTitle": true,
        "className": "",
        "visible": "true",
        "disabled": "false",
        "groupType": "default"
    },
    {
        "id": "8eb20c4e7f9cdb54",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/joint_states",
        "x": 410,
        "y": 600,
        "wires": [
            [
                "b83691056b3e4d2c"
            ]
        ]
    },
    {
        "id": "4e527f8dc9160dc6",
        "type": "ros-publish",
        "z": "f6f2187d.f17ca8",
        "d": true,
        "server": "98acc585bfe962b1",
        "topicname": "/joint_command",
        "msgtype": "sensor_msgs/JointState",
        "x": 1400,
        "y": 600,
        "wires": []
    },
    {
        "id": "b83691056b3e4d2c",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 610,
        "y": 600,
        "wires": [
            [
                "36837b3e47a2a62d"
            ]
        ]
    },
    {
        "id": "8a476b1b5a982d15",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "debug 1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 960,
        "y": 660,
        "wires": []
    },
    {
        "id": "4b57f9d1a7e71cc9",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Store JS Change",
        "func": "const threshold = 0.05;  // change limit\n\nlet prev = context.get(\"prev\");\nlet curr = msg.payload;\n\n// Get or initialize the stored list\nlet list = flow.get(\"list\") || [];\n\nif (!prev) {\n    context.set(\"prev\", curr);\n    list.push(curr);\n    flow.set(\"list\", list);\n    return msg;\n}\n\n// Example: check change in position[0] (customize as needed)\nlet changed = false;\nif (prev.position && curr.position) {\n    if (Math.abs(curr.position[0] - prev.position[0]) > threshold) {\n        changed = true;\n    }\n}\n\n// Save if flagged externally or if changed\nif (flow.get(\"save\") || changed) {\n    list.push(curr);          // store entire payload\n    flow.set(\"list\", list);\n    context.set(\"prev\", curr);\n    flow.set(\"save\", false);\n    return msg;\n}\n\n// Drop message if no significant change\nreturn null;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 990,
        "y": 540,
        "wires": [
            [
                "bb9f8d7bd304e5d4"
            ]
        ]
    },
    {
        "id": "36837b3e47a2a62d",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 750,
        "y": 600,
        "wires": [
            [
                "175f763f12d6f8b0",
                "4b57f9d1a7e71cc9",
                "8a476b1b5a982d15"
            ]
        ]
    },
    {
        "id": "bb9f8d7bd304e5d4",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "debug 2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1280,
        "y": 540,
        "wires": []
    },
    {
        "id": "0379dc6a019925fc",
        "type": "ui-button",
        "z": "f6f2187d.f17ca8",
        "group": "1a9c1a14e1ddeeed",
        "name": "save joint pose",
        "label": "save joint pose",
        "order": 2,
        "width": 0,
        "height": 0,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 420,
        "y": 480,
        "wires": [
            [
                "c6d7b92962b8653d"
            ]
        ]
    },
    {
        "id": "c6d7b92962b8653d",
        "type": "change",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "save",
                "pt": "flow",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 690,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "175f763f12d6f8b0",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Convert JS (ROS2 -> ROS1)",
        "func": "if (msg.payload && msg.payload.header && msg.payload.header.seq !== undefined) {\n    delete msg.payload.header.seq;\n}\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 600,
        "wires": [
            [
                "4e527f8dc9160dc6"
            ]
        ]
    },
    {
        "id": "53fc111e1eb6ff0d",
        "type": "ui-button",
        "z": "f6f2187d.f17ca8",
        "group": "1a9c1a14e1ddeeed",
        "name": "pub joint",
        "label": "pub joint",
        "order": 3,
        "width": 0,
        "height": 0,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 400,
        "y": 380,
        "wires": [
            [
                "e9b125ee00df1318"
            ]
        ]
    },
    {
        "id": "e9b125ee00df1318",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "function 4",
        "func": "let list_joint_0 = flow.get(\"list\")[0]\nlet list_joint_1 = flow.get(\"list\")[1]\n\nmsg.payload=list_joint_0\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 380,
        "wires": [
            [
                "f87c6e7863c85ea1"
            ]
        ]
    },
    {
        "id": "f87c6e7863c85ea1",
        "type": "ros-publish",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/joint_command",
        "msgtype": "sensor_msgs/JointState",
        "x": 820,
        "y": 380,
        "wires": []
    },
    {
        "id": "547c5744763542f9",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "STARTUP",
        "func": "\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "flow.set(\"changed\", false);\n\nglobal.set(\"ros_world_frame\", \"world\");\n\nflow.set(\"grasping\", {\n    left_gripper: false,\n    right_gripper: false\n})",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "2c03b5cdf8586a19",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "98acc585bfe962b1",
        "topicname": "/panel_station/sensors/camera/spl_qr/rgb",
        "x": 340,
        "y": 900,
        "wires": [
            [
                "ffe2c508ae6f8f9c",
                "28bef5ea5234f09e"
            ]
        ]
    },
    {
        "id": "ffe2c508ae6f8f9c",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Convert JS (ROS2 -> ROS1)",
        "func": "if (msg.payload && msg.payload.header && msg.payload.header.seq !== undefined) {\n    delete msg.payload.header.seq;\n}\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 880,
        "wires": [
            [
                "091449fd71a42a20"
            ]
        ]
    },
    {
        "id": "091449fd71a42a20",
        "type": "ros-publish",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/panel_station/sensors/camera/spl_qr/rgb",
        "msgtype": "sensor_msgs/Image",
        "x": 1360,
        "y": 880,
        "wires": []
    },
    {
        "id": "28bef5ea5234f09e",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 810,
        "y": 940,
        "wires": [
            [
                "bddf21ec6f36b4ff"
            ]
        ]
    },
    {
        "id": "bddf21ec6f36b4ff",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 970,
        "y": 940,
        "wires": [
            [
                "e5faae07d8685614"
            ]
        ]
    },
    {
        "id": "e5faae07d8685614",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "debug 4",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1280,
        "y": 940,
        "wires": []
    },
    {
        "id": "9d4f5998f3187740",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "98acc585bfe962b1",
        "topicname": "/panel_station/sensors/camera/spl_qr/camera_info",
        "x": 370,
        "y": 1080,
        "wires": [
            [
                "c0537fa619aa5c29",
                "0ed512affa8ebb1e"
            ]
        ]
    },
    {
        "id": "c0537fa619aa5c29",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Convert JS (ROS2 -> ROS1)",
        "func": "if (msg.payload && msg.payload.header && msg.payload.header.seq !== undefined) {\n    delete msg.payload.header.seq;\n}\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 1060,
        "wires": [
            [
                "1e6160f8c0160503"
            ]
        ]
    },
    {
        "id": "1e6160f8c0160503",
        "type": "ros-publish",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/panel_station/sensors/camera/spl_qr/camera_info",
        "msgtype": "sensor_msgs/CameraInfo",
        "x": 1390,
        "y": 1060,
        "wires": []
    },
    {
        "id": "0ed512affa8ebb1e",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 810,
        "y": 1120,
        "wires": [
            [
                "3afdc5c9f248498e"
            ]
        ]
    },
    {
        "id": "3afdc5c9f248498e",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 970,
        "y": 1120,
        "wires": [
            [
                "07dd92b08113bbd8"
            ]
        ]
    },
    {
        "id": "07dd92b08113bbd8",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "debug 5",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1280,
        "y": 1120,
        "wires": []
    },
    {
        "id": "5e2c6e63087ddcb1",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "98acc585bfe962b1",
        "topicname": "/station/sensors/camera/left_object_detection/rgb",
        "x": 360,
        "y": 1240,
        "wires": [
            [
                "a12e5a7cd57fbb78",
                "e085f3e3f4416e6b"
            ]
        ]
    },
    {
        "id": "a12e5a7cd57fbb78",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Convert JS (ROS2 -> ROS1)",
        "func": "if (msg.payload && msg.payload.header && msg.payload.header.seq !== undefined) {\n    delete msg.payload.header.seq;\n}\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 1220,
        "wires": [
            [
                "e23adbc9d86292c7"
            ]
        ]
    },
    {
        "id": "e23adbc9d86292c7",
        "type": "ros-publish",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/station/sensors/camera/left_object_detection/rgb",
        "msgtype": "sensor_msgs/Image",
        "x": 1390,
        "y": 1220,
        "wires": []
    },
    {
        "id": "e085f3e3f4416e6b",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 810,
        "y": 1280,
        "wires": [
            [
                "9e1ba3d3a3936d68"
            ]
        ]
    },
    {
        "id": "9e1ba3d3a3936d68",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 970,
        "y": 1280,
        "wires": [
            [
                "c923b1c7dc6210d5"
            ]
        ]
    },
    {
        "id": "c923b1c7dc6210d5",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "debug 6",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1280,
        "y": 1280,
        "wires": []
    },
    {
        "id": "a1f69455db93cb17",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "98acc585bfe962b1",
        "topicname": "/station/sensors/camera/left_object_detection/camera_info",
        "x": 390,
        "y": 1420,
        "wires": [
            [
                "eab4cdf1e4248a0e",
                "9fba294cd76c09de"
            ]
        ]
    },
    {
        "id": "eab4cdf1e4248a0e",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Convert JS (ROS2 -> ROS1)",
        "func": "if (msg.payload && msg.payload.header && msg.payload.header.seq !== undefined) {\n    delete msg.payload.header.seq;\n}\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 1400,
        "wires": [
            [
                "99645555bf0a8644"
            ]
        ]
    },
    {
        "id": "99645555bf0a8644",
        "type": "ros-publish",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/station/sensors/camera/left_object_detection/camera_info",
        "msgtype": "sensor_msgs/CameraInfo",
        "x": 1410,
        "y": 1400,
        "wires": []
    },
    {
        "id": "9fba294cd76c09de",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 810,
        "y": 1460,
        "wires": [
            [
                "1524c2e80777b0c9"
            ]
        ]
    },
    {
        "id": "1524c2e80777b0c9",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 970,
        "y": 1460,
        "wires": [
            [
                "4bd5ea7e40196105"
            ]
        ]
    },
    {
        "id": "4bd5ea7e40196105",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "debug 7",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1280,
        "y": 1460,
        "wires": []
    },
    {
        "id": "c54b610a42fa4a0b",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "98acc585bfe962b1",
        "topicname": "/station/sensors/camera/left_spl_qr/rgb",
        "x": 330,
        "y": 1960,
        "wires": [
            [
                "ce8236b27485d540",
                "77bfb6644fd320cb"
            ]
        ]
    },
    {
        "id": "ce8236b27485d540",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Convert JS (ROS2 -> ROS1)",
        "func": "if (msg.payload && msg.payload.header && msg.payload.header.seq !== undefined) {\n    delete msg.payload.header.seq;\n}\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 1940,
        "wires": [
            [
                "f7f54d820e15aec0"
            ]
        ]
    },
    {
        "id": "f7f54d820e15aec0",
        "type": "ros-publish",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/station/sensors/camera/left_spl_qr/rgb",
        "msgtype": "sensor_msgs/Image",
        "x": 1350,
        "y": 1940,
        "wires": []
    },
    {
        "id": "77bfb6644fd320cb",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 810,
        "y": 2000,
        "wires": [
            [
                "274b0b9b8dcb6580"
            ]
        ]
    },
    {
        "id": "274b0b9b8dcb6580",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 970,
        "y": 2000,
        "wires": [
            [
                "62994a8630393e74"
            ]
        ]
    },
    {
        "id": "62994a8630393e74",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "debug 8",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1280,
        "y": 2000,
        "wires": []
    },
    {
        "id": "181b7c01b1b0b370",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "98acc585bfe962b1",
        "topicname": "/station/sensors/camera/people/camera_info",
        "x": 350,
        "y": 1580,
        "wires": [
            [
                "6b1dc3a974b8667f",
                "4822dde2b4197336"
            ]
        ]
    },
    {
        "id": "6b1dc3a974b8667f",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Convert JS (ROS2 -> ROS1)",
        "func": "if (msg.payload && msg.payload.header && msg.payload.header.seq !== undefined) {\n    delete msg.payload.header.seq;\n}\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 1560,
        "wires": [
            [
                "f5ba5cf403a880c2"
            ]
        ]
    },
    {
        "id": "f5ba5cf403a880c2",
        "type": "ros-publish",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/station/sensors/camera/people/camera_info",
        "msgtype": "sensor_msgs/CameraInfo",
        "x": 1370,
        "y": 1560,
        "wires": []
    },
    {
        "id": "4822dde2b4197336",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 810,
        "y": 1620,
        "wires": [
            [
                "a6756eb1106b4563"
            ]
        ]
    },
    {
        "id": "a6756eb1106b4563",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 970,
        "y": 1620,
        "wires": [
            [
                "058de937c526e78e"
            ]
        ]
    },
    {
        "id": "058de937c526e78e",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "debug 9",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1280,
        "y": 1620,
        "wires": []
    },
    {
        "id": "876b4aafeba23e2c",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "98acc585bfe962b1",
        "topicname": "/station/sensors/camera/people/rgb",
        "x": 320,
        "y": 1740,
        "wires": [
            [
                "a826df615faa37c0",
                "b153e522840b0bbc"
            ]
        ]
    },
    {
        "id": "a826df615faa37c0",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Convert JS (ROS2 -> ROS1)",
        "func": "if (msg.payload && msg.payload.header && msg.payload.header.seq !== undefined) {\n    delete msg.payload.header.seq;\n}\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 1720,
        "wires": [
            [
                "3d909fe1d6257ade"
            ]
        ]
    },
    {
        "id": "3d909fe1d6257ade",
        "type": "ros-publish",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/station/sensors/camera/people/rgb",
        "msgtype": "sensor_msgs/Image",
        "x": 1340,
        "y": 1720,
        "wires": []
    },
    {
        "id": "b153e522840b0bbc",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 810,
        "y": 1780,
        "wires": [
            [
                "3e2fc251304617cb"
            ]
        ]
    },
    {
        "id": "3e2fc251304617cb",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 970,
        "y": 1780,
        "wires": [
            [
                "182edb034e3bb254"
            ]
        ]
    },
    {
        "id": "182edb034e3bb254",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "debug 10",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1280,
        "y": 1780,
        "wires": []
    },
    {
        "id": "44fa8bc2609e92c1",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "98acc585bfe962b1",
        "topicname": "/station/sensors/camera/left_spl_qr/camera_info",
        "x": 360,
        "y": 2100,
        "wires": [
            [
                "1c23775c125e932c",
                "550fabe5466c6a09"
            ]
        ]
    },
    {
        "id": "1c23775c125e932c",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Convert JS (ROS2 -> ROS1)",
        "func": "if (msg.payload && msg.payload.header && msg.payload.header.seq !== undefined) {\n    delete msg.payload.header.seq;\n}\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 2080,
        "wires": [
            [
                "2f6ac42b91da7794"
            ]
        ]
    },
    {
        "id": "2f6ac42b91da7794",
        "type": "ros-publish",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/station/sensors/camera/left_spl_qr/camera_info",
        "msgtype": "sensor_msgs/CameraInfo",
        "x": 1380,
        "y": 2080,
        "wires": []
    },
    {
        "id": "550fabe5466c6a09",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 810,
        "y": 2140,
        "wires": [
            [
                "a8d658bd9f46b8dd"
            ]
        ]
    },
    {
        "id": "a8d658bd9f46b8dd",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 970,
        "y": 2140,
        "wires": [
            [
                "14254f1280aabfd3"
            ]
        ]
    },
    {
        "id": "14254f1280aabfd3",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "debug 11",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1280,
        "y": 2140,
        "wires": []
    },
    {
        "id": "ea3fac867aecaa41",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "98acc585bfe962b1",
        "topicname": "/station/sensors/camera/right_object_detection/rgb",
        "x": 370,
        "y": 2240,
        "wires": [
            [
                "8b4be4910a56d8f0",
                "2d56b2e4233afe84"
            ]
        ]
    },
    {
        "id": "8b4be4910a56d8f0",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Convert JS (ROS2 -> ROS1)",
        "func": "if (msg.payload && msg.payload.header && msg.payload.header.seq !== undefined) {\n    delete msg.payload.header.seq;\n}\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 2220,
        "wires": [
            [
                "86186fb8da18a826"
            ]
        ]
    },
    {
        "id": "86186fb8da18a826",
        "type": "ros-publish",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/station/sensors/camera/right_object_detection/rgb",
        "msgtype": "sensor_msgs/Image",
        "x": 1390,
        "y": 2220,
        "wires": []
    },
    {
        "id": "2d56b2e4233afe84",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 810,
        "y": 2280,
        "wires": [
            [
                "f426c8286a63f1c5"
            ]
        ]
    },
    {
        "id": "f426c8286a63f1c5",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 970,
        "y": 2280,
        "wires": [
            [
                "efb5480d48ef4d3a"
            ]
        ]
    },
    {
        "id": "efb5480d48ef4d3a",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "debug 12",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1280,
        "y": 2280,
        "wires": []
    },
    {
        "id": "a87e4c61ee34483a",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "98acc585bfe962b1",
        "topicname": "/station/sensors/camera/right_object_detection/camera_info",
        "x": 390,
        "y": 2420,
        "wires": [
            [
                "e48009c889233bf9",
                "327662d7cec76538"
            ]
        ]
    },
    {
        "id": "e48009c889233bf9",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Convert JS (ROS2 -> ROS1)",
        "func": "if (msg.payload && msg.payload.header && msg.payload.header.seq !== undefined) {\n    delete msg.payload.header.seq;\n}\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 2400,
        "wires": [
            [
                "e819f6a2c9472bcc"
            ]
        ]
    },
    {
        "id": "e819f6a2c9472bcc",
        "type": "ros-publish",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/station/sensors/camera/right_object_detection/camera_info",
        "msgtype": "sensor_msgs/CameraInfo",
        "x": 1420,
        "y": 2400,
        "wires": []
    },
    {
        "id": "327662d7cec76538",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 810,
        "y": 2460,
        "wires": [
            [
                "3f76a4281008f4ed"
            ]
        ]
    },
    {
        "id": "3f76a4281008f4ed",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 970,
        "y": 2460,
        "wires": [
            [
                "87318ad9e0bfbd54"
            ]
        ]
    },
    {
        "id": "87318ad9e0bfbd54",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "debug 13",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1280,
        "y": 2460,
        "wires": []
    },
    {
        "id": "dbc7324d95e3446d",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "98acc585bfe962b1",
        "topicname": "/station/sensors/camera/right_spl_qr/rgb",
        "x": 330,
        "y": 2580,
        "wires": [
            [
                "983e765616f12967",
                "bd8fb4db4fdbce52"
            ]
        ]
    },
    {
        "id": "983e765616f12967",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Convert JS (ROS2 -> ROS1)",
        "func": "if (msg.payload && msg.payload.header && msg.payload.header.seq !== undefined) {\n    delete msg.payload.header.seq;\n}\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 2560,
        "wires": [
            [
                "be5bd153bf4562cb"
            ]
        ]
    },
    {
        "id": "be5bd153bf4562cb",
        "type": "ros-publish",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/station/sensors/camera/right_spl_qr/rgb",
        "msgtype": "sensor_msgs/Image",
        "x": 1360,
        "y": 2560,
        "wires": []
    },
    {
        "id": "bd8fb4db4fdbce52",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 810,
        "y": 2620,
        "wires": [
            [
                "6122f0fb81c41c8c"
            ]
        ]
    },
    {
        "id": "6122f0fb81c41c8c",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 970,
        "y": 2620,
        "wires": [
            [
                "6a0af3f77bcfcae6"
            ]
        ]
    },
    {
        "id": "6a0af3f77bcfcae6",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "debug 14",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1280,
        "y": 2620,
        "wires": []
    },
    {
        "id": "bc9de6d9c7fd0182",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "98acc585bfe962b1",
        "topicname": "/station/sensors/camera/right_spl_qr/camera_info",
        "x": 360,
        "y": 2760,
        "wires": [
            [
                "1379ce31a2644c9d",
                "866c6d03ad5d2a80"
            ]
        ]
    },
    {
        "id": "1379ce31a2644c9d",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Convert JS (ROS2 -> ROS1)",
        "func": "if (msg.payload && msg.payload.header && msg.payload.header.seq !== undefined) {\n    delete msg.payload.header.seq;\n}\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 2740,
        "wires": [
            [
                "14fbcee066848dae"
            ]
        ]
    },
    {
        "id": "14fbcee066848dae",
        "type": "ros-publish",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/station/sensors/camera/right_spl_qr/camera_info",
        "msgtype": "sensor_msgs/CameraInfo",
        "x": 1390,
        "y": 2740,
        "wires": []
    },
    {
        "id": "866c6d03ad5d2a80",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 810,
        "y": 2800,
        "wires": [
            [
                "dcc18994e7228b46"
            ]
        ]
    },
    {
        "id": "dcc18994e7228b46",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 970,
        "y": 2800,
        "wires": [
            [
                "47afd541bea6f210"
            ]
        ]
    },
    {
        "id": "47afd541bea6f210",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "debug 15",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1260,
        "y": 2800,
        "wires": []
    },
    {
        "id": "64d601908bad3a9b",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "98acc585bfe962b1",
        "topicname": "/station/misc/yumi/world/pose_stamped",
        "x": 320,
        "y": 3080,
        "wires": [
            [
                "2cbfcee00f480203"
            ]
        ]
    },
    {
        "id": "2cbfcee00f480203",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 730,
        "y": 3080,
        "wires": [
            [
                "19cdb3900bc92ced"
            ]
        ]
    },
    {
        "id": "19cdb3900bc92ced",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 890,
        "y": 3080,
        "wires": [
            [
                "176cd98225e160ac",
                "cf36662fa0447ba7"
            ]
        ]
    },
    {
        "id": "176cd98225e160ac",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "debug 16",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1080,
        "y": 3140,
        "wires": []
    },
    {
        "id": "1aab54dc49ed6e84",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Compute Relative Pose",
        "func": "// Get poses\nconst poseA = global.get('isaac_station_world_pose');\nconst poseB = msg.payload\n\nif (!poseA || !poseB) {\n    return null;\n}\n\n// Quaternion helpers\nfunction quatConjugate(q) {\n    return { x: -q.x, y: -q.y, z: -q.z, w: q.w };\n}\n\nfunction quatMultiply(a, b) {\n    return {\n        w: a.w*b.w - a.x*b.x - a.y*b.y - a.z*b.z,\n        x: a.w*b.x + a.x*b.w + a.y*b.z - a.z*b.y,\n        y: a.w*b.y - a.x*b.z + a.y*b.w + a.z*b.x,\n        z: a.w*b.z + a.x*b.y - a.y*b.x + a.z*b.w\n    };\n}\n\nfunction rotateVector(v, q) {\n    const qv = { x: v.x, y: v.y, z: v.z, w: 0 };\n    const qInv = quatConjugate(q);\n    const r = quatMultiply(quatMultiply(q, qv), qInv);\n    return { x: r.x, y: r.y, z: r.z };\n}\n\nconst A = poseA.pose;\nconst B = poseB.pose;\n\n// Invert A\nconst qA_inv = quatConjugate(A.orientation);\nconst pA_inv = rotateVector({\n    x: -A.position.x,\n    y: -A.position.y,\n    z: -A.position.z\n}, qA_inv);\n\n// Relative position\nconst pB_rot = rotateVector(B.position, qA_inv);\nconst pRel = {\n    x: pB_rot.x + pA_inv.x,\n    y: pB_rot.y + pA_inv.y,\n    z: pB_rot.z + pA_inv.z\n};\n\n// Relative orientation\nconst qRel = quatMultiply(qA_inv, B.orientation);\n\nmsg.payload = {\n    header: {\n        frame_id: global.get(\"ros_world_frame\"),\n        stamp: poseB.header.stamp\n    },\n    pose: {\n        position: pRel,\n        orientation: qRel\n    }\n};\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1130,
        "y": 3220,
        "wires": [
            [
                "fc03096cbc976a5f",
                "92abdf00e2492fe8",
                "7c575333298311ca"
            ]
        ]
    },
    {
        "id": "fc03096cbc976a5f",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "Relative Pose Output",
        "active": false,
        "tosidebar": true,
        "complete": "payload",
        "targetType": "msg",
        "x": 1420,
        "y": 3280,
        "wires": []
    },
    {
        "id": "fc19844076eb111d",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "98acc585bfe962b1",
        "topicname": "/station/misc/camera/right_object_detection/pose_stamped",
        "x": 380,
        "y": 3220,
        "wires": [
            [
                "6f3404f375c6c8ea"
            ]
        ]
    },
    {
        "id": "6f3404f375c6c8ea",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 730,
        "y": 3220,
        "wires": [
            [
                "bd644121aa8131f2"
            ]
        ]
    },
    {
        "id": "bd644121aa8131f2",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 890,
        "y": 3220,
        "wires": [
            [
                "e7a46953d50164f1",
                "1aab54dc49ed6e84"
            ]
        ]
    },
    {
        "id": "e7a46953d50164f1",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "debug 17",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1080,
        "y": 3280,
        "wires": []
    },
    {
        "id": "92abdf00e2492fe8",
        "type": "ros-publish",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/station/structure/camera/right_object_detection/pose_stamped",
        "msgtype": "geometry_msgs/PoseStamped",
        "x": 1550,
        "y": 3220,
        "wires": []
    },
    {
        "id": "cf36662fa0447ba7",
        "type": "change",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "isaac_station_world_pose",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1170,
        "y": 3080,
        "wires": [
            []
        ]
    },
    {
        "id": "285b5ea1336085d9",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Compute Relative Pose",
        "func": "// Get poses\nconst poseA = global.get('isaac_station_world_pose');\nconst poseB = msg.payload\n\nif (!poseA || !poseB) {\n    return null;\n}\n\n// Quaternion helpers\nfunction quatConjugate(q) {\n    return { x: -q.x, y: -q.y, z: -q.z, w: q.w };\n}\n\nfunction quatMultiply(a, b) {\n    return {\n        w: a.w*b.w - a.x*b.x - a.y*b.y - a.z*b.z,\n        x: a.w*b.x + a.x*b.w + a.y*b.z - a.z*b.y,\n        y: a.w*b.y - a.x*b.z + a.y*b.w + a.z*b.x,\n        z: a.w*b.z + a.x*b.y - a.y*b.x + a.z*b.w\n    };\n}\n\nfunction rotateVector(v, q) {\n    const qv = { x: v.x, y: v.y, z: v.z, w: 0 };\n    const qInv = quatConjugate(q);\n    const r = quatMultiply(quatMultiply(q, qv), qInv);\n    return { x: r.x, y: r.y, z: r.z };\n}\n\nconst A = poseA.pose;\nconst B = poseB.pose;\n\n// Invert A\nconst qA_inv = quatConjugate(A.orientation);\nconst pA_inv = rotateVector({\n    x: -A.position.x,\n    y: -A.position.y,\n    z: -A.position.z\n}, qA_inv);\n\n// Relative position\nconst pB_rot = rotateVector(B.position, qA_inv);\nconst pRel = {\n    x: pB_rot.x + pA_inv.x,\n    y: pB_rot.y + pA_inv.y,\n    z: pB_rot.z + pA_inv.z\n};\n\n// Relative orientation\nconst qRel = quatMultiply(qA_inv, B.orientation);\n\nmsg.payload = {\n    header: {\n        frame_id: global.get(\"ros_world_frame\"),\n        stamp: poseB.header.stamp\n    },\n    pose: {\n        position: pRel,\n        orientation: qRel\n    }\n};\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1120,
        "y": 3420,
        "wires": [
            [
                "e52b7f6aea43d373",
                "cb892f02fab2e49d",
                "5a822bd4ec9c4912"
            ]
        ]
    },
    {
        "id": "e52b7f6aea43d373",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "Relative Pose Output",
        "active": false,
        "tosidebar": true,
        "complete": "payload",
        "targetType": "msg",
        "x": 1410,
        "y": 3480,
        "wires": []
    },
    {
        "id": "d4540fc9c2e9fbeb",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "98acc585bfe962b1",
        "topicname": "/station/misc/camera/left_object_detection/pose_stamped",
        "x": 370,
        "y": 3420,
        "wires": [
            [
                "1b287657ebfe042c"
            ]
        ]
    },
    {
        "id": "1b287657ebfe042c",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 720,
        "y": 3420,
        "wires": [
            [
                "2444508b57e6d1c1"
            ]
        ]
    },
    {
        "id": "2444508b57e6d1c1",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 880,
        "y": 3420,
        "wires": [
            [
                "b0be30576d8d562a",
                "285b5ea1336085d9"
            ]
        ]
    },
    {
        "id": "b0be30576d8d562a",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "debug 17",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1070,
        "y": 3480,
        "wires": []
    },
    {
        "id": "cb892f02fab2e49d",
        "type": "ros-publish",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/station/structure/camera/left_object_detection/pose_stamped",
        "msgtype": "geometry_msgs/PoseStamped",
        "x": 1540,
        "y": 3420,
        "wires": []
    },
    {
        "id": "fbbacde155766023",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Compute Relative Pose",
        "func": "// Get poses\nconst poseA = global.get('isaac_station_world_pose');\nconst poseB = msg.payload\n\nif (!poseA || !poseB) {\n    return null;\n}\n\n// Quaternion helpers\nfunction quatConjugate(q) {\n    return { x: -q.x, y: -q.y, z: -q.z, w: q.w };\n}\n\nfunction quatMultiply(a, b) {\n    return {\n        w: a.w*b.w - a.x*b.x - a.y*b.y - a.z*b.z,\n        x: a.w*b.x + a.x*b.w + a.y*b.z - a.z*b.y,\n        y: a.w*b.y - a.x*b.z + a.y*b.w + a.z*b.x,\n        z: a.w*b.z + a.x*b.y - a.y*b.x + a.z*b.w\n    };\n}\n\nfunction rotateVector(v, q) {\n    const qv = { x: v.x, y: v.y, z: v.z, w: 0 };\n    const qInv = quatConjugate(q);\n    const r = quatMultiply(quatMultiply(q, qv), qInv);\n    return { x: r.x, y: r.y, z: r.z };\n}\n\nconst A = poseA.pose;\nconst B = poseB.pose;\n\n// Invert A\nconst qA_inv = quatConjugate(A.orientation);\nconst pA_inv = rotateVector({\n    x: -A.position.x,\n    y: -A.position.y,\n    z: -A.position.z\n}, qA_inv);\n\n// Relative position\nconst pB_rot = rotateVector(B.position, qA_inv);\nconst pRel = {\n    x: pB_rot.x + pA_inv.x,\n    y: pB_rot.y + pA_inv.y,\n    z: pB_rot.z + pA_inv.z\n};\n\n// Relative orientation\nconst qRel = quatMultiply(qA_inv, B.orientation);\n\nmsg.payload = {\n    header: {\n        frame_id: global.get(\"ros_world_frame\"),\n        stamp: poseB.header.stamp\n    },\n    pose: {\n        position: pRel,\n        orientation: qRel\n    }\n};\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1090,
        "y": 3620,
        "wires": [
            [
                "2b1103b8774d2bb9",
                "31e949ed2994acb6",
                "ccb286f9a16bfe6e"
            ]
        ]
    },
    {
        "id": "2b1103b8774d2bb9",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "Relative Pose Output",
        "active": false,
        "tosidebar": true,
        "complete": "payload",
        "targetType": "msg",
        "x": 1380,
        "y": 3680,
        "wires": []
    },
    {
        "id": "2f6d7f81accae161",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "98acc585bfe962b1",
        "topicname": "/station/misc/camera/left_spl_qr/pose_stamped",
        "x": 340,
        "y": 3620,
        "wires": [
            [
                "0b32e71e8143c91b"
            ]
        ]
    },
    {
        "id": "0b32e71e8143c91b",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 690,
        "y": 3620,
        "wires": [
            [
                "af00a344c34ee2a8"
            ]
        ]
    },
    {
        "id": "af00a344c34ee2a8",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 850,
        "y": 3620,
        "wires": [
            [
                "f38f856dcfc3ab19",
                "fbbacde155766023"
            ]
        ]
    },
    {
        "id": "f38f856dcfc3ab19",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "debug 17",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1040,
        "y": 3680,
        "wires": []
    },
    {
        "id": "31e949ed2994acb6",
        "type": "ros-publish",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/station/structure/camera/left_spl_qr/pose_stamped",
        "msgtype": "geometry_msgs/PoseStamped",
        "x": 1480,
        "y": 3620,
        "wires": []
    },
    {
        "id": "ee89cdcb681df3df",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Compute Relative Pose",
        "func": "// Get poses\nconst poseA = global.get('isaac_station_world_pose');\nconst poseB = msg.payload\n\nif (!poseA || !poseB) {\n    return null;\n}\n\n// Quaternion helpers\nfunction quatConjugate(q) {\n    return { x: -q.x, y: -q.y, z: -q.z, w: q.w };\n}\n\nfunction quatMultiply(a, b) {\n    return {\n        w: a.w*b.w - a.x*b.x - a.y*b.y - a.z*b.z,\n        x: a.w*b.x + a.x*b.w + a.y*b.z - a.z*b.y,\n        y: a.w*b.y - a.x*b.z + a.y*b.w + a.z*b.x,\n        z: a.w*b.z + a.x*b.y - a.y*b.x + a.z*b.w\n    };\n}\n\nfunction rotateVector(v, q) {\n    const qv = { x: v.x, y: v.y, z: v.z, w: 0 };\n    const qInv = quatConjugate(q);\n    const r = quatMultiply(quatMultiply(q, qv), qInv);\n    return { x: r.x, y: r.y, z: r.z };\n}\n\nconst A = poseA.pose;\nconst B = poseB.pose;\n\n// Invert A\nconst qA_inv = quatConjugate(A.orientation);\nconst pA_inv = rotateVector({\n    x: -A.position.x,\n    y: -A.position.y,\n    z: -A.position.z\n}, qA_inv);\n\n// Relative position\nconst pB_rot = rotateVector(B.position, qA_inv);\nconst pRel = {\n    x: pB_rot.x + pA_inv.x,\n    y: pB_rot.y + pA_inv.y,\n    z: pB_rot.z + pA_inv.z\n};\n\n// Relative orientation\nconst qRel = quatMultiply(qA_inv, B.orientation);\n\nmsg.payload = {\n    header: {\n        frame_id: global.get(\"ros_world_frame\"),\n        stamp: poseB.header.stamp\n    },\n    pose: {\n        position: pRel,\n        orientation: qRel\n    }\n};\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1090,
        "y": 3820,
        "wires": [
            [
                "9f1d8d0567587575",
                "8302b39bcedf5236",
                "6542a19e93d4eab0"
            ]
        ]
    },
    {
        "id": "9f1d8d0567587575",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "Relative Pose Output",
        "active": false,
        "tosidebar": true,
        "complete": "payload",
        "targetType": "msg",
        "x": 1380,
        "y": 3880,
        "wires": []
    },
    {
        "id": "1db088231ea85e11",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "98acc585bfe962b1",
        "topicname": "/station/misc/camera/right_spl_qr/pose_stamped",
        "x": 340,
        "y": 3820,
        "wires": [
            [
                "d1360692b9e8665a"
            ]
        ]
    },
    {
        "id": "d1360692b9e8665a",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 690,
        "y": 3820,
        "wires": [
            [
                "ec5e7cb6d5816605"
            ]
        ]
    },
    {
        "id": "ec5e7cb6d5816605",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 850,
        "y": 3820,
        "wires": [
            [
                "d94a9daa423ffddd",
                "ee89cdcb681df3df"
            ]
        ]
    },
    {
        "id": "d94a9daa423ffddd",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "debug 17",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1040,
        "y": 3880,
        "wires": []
    },
    {
        "id": "8302b39bcedf5236",
        "type": "ros-publish",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/station/structure/camera/right_spl_qr/pose_stamped",
        "msgtype": "geometry_msgs/PoseStamped",
        "x": 1480,
        "y": 3820,
        "wires": []
    },
    {
        "id": "65d1f3ee4ba78344",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Compute Relative Pose",
        "func": "// Get poses\nconst poseA = global.get('isaac_station_world_pose');\nconst poseB = msg.payload\n\nif (!poseA || !poseB) {\n    return null;\n}\n\n// Quaternion helpers\nfunction quatConjugate(q) {\n    return { x: -q.x, y: -q.y, z: -q.z, w: q.w };\n}\n\nfunction quatMultiply(a, b) {\n    return {\n        w: a.w*b.w - a.x*b.x - a.y*b.y - a.z*b.z,\n        x: a.w*b.x + a.x*b.w + a.y*b.z - a.z*b.y,\n        y: a.w*b.y - a.x*b.z + a.y*b.w + a.z*b.x,\n        z: a.w*b.z + a.x*b.y - a.y*b.x + a.z*b.w\n    };\n}\n\nfunction rotateVector(v, q) {\n    const qv = { x: v.x, y: v.y, z: v.z, w: 0 };\n    const qInv = quatConjugate(q);\n    const r = quatMultiply(quatMultiply(q, qv), qInv);\n    return { x: r.x, y: r.y, z: r.z };\n}\n\nconst A = poseA.pose;\nconst B = poseB.pose;\n\n// Invert A\nconst qA_inv = quatConjugate(A.orientation);\nconst pA_inv = rotateVector({\n    x: -A.position.x,\n    y: -A.position.y,\n    z: -A.position.z\n}, qA_inv);\n\n// Relative position\nconst pB_rot = rotateVector(B.position, qA_inv);\nconst pRel = {\n    x: pB_rot.x + pA_inv.x,\n    y: pB_rot.y + pA_inv.y,\n    z: pB_rot.z + pA_inv.z\n};\n\n// Relative orientation\nconst qRel = quatMultiply(qA_inv, B.orientation);\n\nmsg.payload = {\n    header: {\n        frame_id: global.get(\"ros_world_frame\"),\n        stamp: poseB.header.stamp\n    },\n    pose: {\n        position: pRel,\n        orientation: qRel\n    }\n};\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1080,
        "y": 4020,
        "wires": [
            [
                "9bc5c97787414f7f",
                "a1f054532679068f",
                "ed1fa27d21115517"
            ]
        ]
    },
    {
        "id": "9bc5c97787414f7f",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "Relative Pose Output",
        "active": false,
        "tosidebar": true,
        "complete": "payload",
        "targetType": "msg",
        "x": 1370,
        "y": 4080,
        "wires": []
    },
    {
        "id": "c488ceea0c0f1c22",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "98acc585bfe962b1",
        "topicname": "/station/misc/camera/people/pose_stamped",
        "x": 330,
        "y": 4020,
        "wires": [
            [
                "ab00af1767f56986"
            ]
        ]
    },
    {
        "id": "ab00af1767f56986",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 680,
        "y": 4020,
        "wires": [
            [
                "31024b978cc7b308"
            ]
        ]
    },
    {
        "id": "31024b978cc7b308",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 840,
        "y": 4020,
        "wires": [
            [
                "82627155ec3851ba",
                "65d1f3ee4ba78344"
            ]
        ]
    },
    {
        "id": "82627155ec3851ba",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "debug 17",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1040,
        "y": 4080,
        "wires": []
    },
    {
        "id": "a1f054532679068f",
        "type": "ros-publish",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/station/structure/camera/people/pose_stamped",
        "msgtype": "geometry_msgs/PoseStamped",
        "x": 1450,
        "y": 4020,
        "wires": []
    },
    {
        "id": "9b7812bb7fa45786",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Compute Relative Pose",
        "func": "// Get poses\nconst poseA = global.get('isaac_station_world_pose');\nconst poseB = msg.payload\n\nif (!poseA || !poseB) {\n    return null;\n}\n\n// Quaternion helpers\nfunction quatConjugate(q) {\n    return { x: -q.x, y: -q.y, z: -q.z, w: q.w };\n}\n\nfunction quatMultiply(a, b) {\n    return {\n        w: a.w*b.w - a.x*b.x - a.y*b.y - a.z*b.z,\n        x: a.w*b.x + a.x*b.w + a.y*b.z - a.z*b.y,\n        y: a.w*b.y - a.x*b.z + a.y*b.w + a.z*b.x,\n        z: a.w*b.z + a.x*b.y - a.y*b.x + a.z*b.w\n    };\n}\n\nfunction rotateVector(v, q) {\n    const qv = { x: v.x, y: v.y, z: v.z, w: 0 };\n    const qInv = quatConjugate(q);\n    const r = quatMultiply(quatMultiply(q, qv), qInv);\n    return { x: r.x, y: r.y, z: r.z };\n}\n\nconst A = poseA.pose;\nconst B = poseB.pose;\n\n// Invert A\nconst qA_inv = quatConjugate(A.orientation);\nconst pA_inv = rotateVector({\n    x: -A.position.x,\n    y: -A.position.y,\n    z: -A.position.z\n}, qA_inv);\n\n// Relative position\nconst pB_rot = rotateVector(B.position, qA_inv);\nconst pRel = {\n    x: pB_rot.x + pA_inv.x,\n    y: pB_rot.y + pA_inv.y,\n    z: pB_rot.z + pA_inv.z\n};\n\n// Relative orientation\nconst qRel = quatMultiply(qA_inv, B.orientation);\n\nmsg.payload = {\n    header: {\n        frame_id: global.get(\"ros_world_frame\"),\n        stamp: poseB.header.stamp\n    },\n    pose: {\n        position: pRel,\n        orientation: qRel\n    }\n};\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1080,
        "y": 4220,
        "wires": [
            [
                "4057614911c09b56",
                "628b733bfb2d480d",
                "bea90abbd6daa57c",
                "27c6e512c6bfd726"
            ]
        ]
    },
    {
        "id": "4057614911c09b56",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "Relative Pose Output",
        "active": false,
        "tosidebar": true,
        "complete": "payload",
        "targetType": "msg",
        "x": 1370,
        "y": 4280,
        "wires": []
    },
    {
        "id": "d7a908da1d58e42a",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "98acc585bfe962b1",
        "topicname": "/panel_station/misc/camera/spl_qr/pose_stamped",
        "x": 350,
        "y": 4220,
        "wires": [
            [
                "c08e15217a76dbe7"
            ]
        ]
    },
    {
        "id": "c08e15217a76dbe7",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 680,
        "y": 4220,
        "wires": [
            [
                "4036d57a768c7cae"
            ]
        ]
    },
    {
        "id": "4036d57a768c7cae",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 840,
        "y": 4220,
        "wires": [
            [
                "c9d4dea3db4ae592",
                "9b7812bb7fa45786"
            ]
        ]
    },
    {
        "id": "c9d4dea3db4ae592",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "debug 17",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1040,
        "y": 4280,
        "wires": []
    },
    {
        "id": "628b733bfb2d480d",
        "type": "ros-publish",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/panel_station/structure/camera//panel_stationspl_qr/pose_stamped",
        "msgtype": "geometry_msgs/PoseStamped",
        "x": 1520,
        "y": 4220,
        "wires": []
    },
    {
        "id": "bea90abbd6daa57c",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "d": true,
        "name": "PoseToTF",
        "func": "const pose = msg.payload;\n\n// Frame naming (change as needed)\nconst parentFrame = \"world\";\nconst childFrame  = \"panel_station_camera_spl_qr\";\n\n// Timestamp (ROS2 style)\nconst now = Date.now();\nconst sec = Math.floor(now / 1000);\nconst nanosec = (now % 1000) * 1e6;\n\nmsg.payload = {\n    transforms: [\n        {\n            header: {\n                frame_id: parentFrame,\n                stamp: {\n                    sec: sec,\n                    nanosec: nanosec\n                }\n            },\n            child_frame_id: childFrame,\n            transform: {\n                translation: {\n                    x: pose.pose.position.x,\n                    y: pose.pose.position.y,\n                    z: pose.pose.position.z\n                },\n                rotation: {\n                    x: pose.pose.orientation.x,\n                    y: pose.pose.orientation.y,\n                    z: pose.pose.orientation.z,\n                    w: pose.pose.orientation.w\n                }\n            }\n        }\n    ]\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1330,
        "y": 4400,
        "wires": [
            [
                "198db433243d7337"
            ]
        ]
    },
    {
        "id": "198db433243d7337",
        "type": "ros-publish",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/tf",
        "msgtype": "tf2_msgs/TFMessage",
        "x": 1520,
        "y": 4400,
        "wires": []
    },
    {
        "id": "018013521726872c",
        "type": "link out",
        "z": "f6f2187d.f17ca8",
        "name": "PROCESS_OBJECT_OUT",
        "mode": "link",
        "links": [
            "904a9a3144a05d83"
        ],
        "x": 1680,
        "y": 3540,
        "wires": [],
        "l": true
    },
    {
        "id": "5a822bd4ec9c4912",
        "type": "change",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "name",
                "pt": "msg",
                "to": "station_camera_left_object_detection",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1390,
        "y": 3540,
        "wires": [
            [
                "018013521726872c"
            ]
        ]
    },
    {
        "id": "20fd3909d23e268d",
        "type": "link out",
        "z": "f6f2187d.f17ca8",
        "name": "PROCESS_OBJECT_OUT",
        "mode": "link",
        "links": [
            "904a9a3144a05d83"
        ],
        "x": 1630,
        "y": 4340,
        "wires": [],
        "l": true
    },
    {
        "id": "27c6e512c6bfd726",
        "type": "change",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "name",
                "pt": "msg",
                "to": "panel_station_camera_spl_qr",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 4340,
        "wires": [
            [
                "20fd3909d23e268d"
            ]
        ]
    },
    {
        "id": "a2d921d655104a71",
        "type": "link out",
        "z": "f6f2187d.f17ca8",
        "name": "PROCESS_OBJECT_OUT",
        "mode": "link",
        "links": [
            "904a9a3144a05d83"
        ],
        "x": 1630,
        "y": 4140,
        "wires": [],
        "l": true
    },
    {
        "id": "ed1fa27d21115517",
        "type": "change",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "name",
                "pt": "msg",
                "to": "station_camera_people",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1350,
        "y": 4140,
        "wires": [
            [
                "a2d921d655104a71"
            ]
        ]
    },
    {
        "id": "0cd58b0c32f0ea81",
        "type": "link out",
        "z": "f6f2187d.f17ca8",
        "name": "PROCESS_OBJECT_OUT",
        "mode": "link",
        "links": [
            "904a9a3144a05d83"
        ],
        "x": 1630,
        "y": 3940,
        "wires": [],
        "l": true
    },
    {
        "id": "6542a19e93d4eab0",
        "type": "change",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "name",
                "pt": "msg",
                "to": "station_camera_right_spl_qr",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 3940,
        "wires": [
            [
                "0cd58b0c32f0ea81"
            ]
        ]
    },
    {
        "id": "d9268c761ac22e7e",
        "type": "link out",
        "z": "f6f2187d.f17ca8",
        "name": "PROCESS_OBJECT_OUT",
        "mode": "link",
        "links": [
            "904a9a3144a05d83"
        ],
        "x": 1630,
        "y": 3740,
        "wires": [],
        "l": true
    },
    {
        "id": "ccb286f9a16bfe6e",
        "type": "change",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "name",
                "pt": "msg",
                "to": "station_camera_left_spl_qr",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1360,
        "y": 3740,
        "wires": [
            [
                "d9268c761ac22e7e"
            ]
        ]
    },
    {
        "id": "16484e1890c799eb",
        "type": "link out",
        "z": "f6f2187d.f17ca8",
        "name": "PROCESS_OBJECT_OUT",
        "mode": "link",
        "links": [
            "904a9a3144a05d83"
        ],
        "x": 1690,
        "y": 3340,
        "wires": [],
        "l": true
    },
    {
        "id": "7c575333298311ca",
        "type": "change",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "name",
                "pt": "msg",
                "to": "station_camera_right_object_detection",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1400,
        "y": 3340,
        "wires": [
            [
                "16484e1890c799eb"
            ]
        ]
    },
    {
        "id": "b03fa728bb046d91",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "98acc585bfe962b1",
        "topicname": "/panel_station/structure/static_objects/pose",
        "x": 330,
        "y": 4500,
        "wires": [
            [
                "8bc6f2881bce7006"
            ]
        ]
    },
    {
        "id": "8bc6f2881bce7006",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 750,
        "y": 4500,
        "wires": [
            [
                "e999a2aee0bd5aa2"
            ]
        ]
    },
    {
        "id": "e999a2aee0bd5aa2",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 910,
        "y": 4500,
        "wires": [
            [
                "e363f0da109ce9c7"
            ]
        ]
    },
    {
        "id": "e363f0da109ce9c7",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Compute Relative Pose (w FrameId)",
        "func": "// Get poses\nconst poseA = global.get('isaac_station_world_pose');\nconst poseB = msg.payload\n\nif (!poseA || !poseB) {\n    return null;\n}\n\n// Quaternion helpers\nfunction quatConjugate(q) {\n    return { x: -q.x, y: -q.y, z: -q.z, w: q.w };\n}\n\nfunction quatMultiply(a, b) {\n    return {\n        w: a.w*b.w - a.x*b.x - a.y*b.y - a.z*b.z,\n        x: a.w*b.x + a.x*b.w + a.y*b.z - a.z*b.y,\n        y: a.w*b.y - a.x*b.z + a.y*b.w + a.z*b.x,\n        z: a.w*b.z + a.x*b.y - a.y*b.x + a.z*b.w\n    };\n}\n\nfunction rotateVector(v, q) {\n    const qv = { x: v.x, y: v.y, z: v.z, w: 0 };\n    const qInv = quatConjugate(q);\n    const r = quatMultiply(quatMultiply(q, qv), qInv);\n    return { x: r.x, y: r.y, z: r.z };\n}\n\nconst A = poseA.pose;\nconst B = poseB.pose;\n\n// Invert A\nconst qA_inv = quatConjugate(A.orientation);\nconst pA_inv = rotateVector({\n    x: -A.position.x,\n    y: -A.position.y,\n    z: -A.position.z\n}, qA_inv);\n\n// Relative position\nconst pB_rot = rotateVector(B.position, qA_inv);\nconst pRel = {\n    x: pB_rot.x + pA_inv.x,\n    y: pB_rot.y + pA_inv.y,\n    z: pB_rot.z + pA_inv.z\n};\n\n// Relative orientation\nconst qRel = quatMultiply(qA_inv, B.orientation);\n\nmsg.name = msg.payload.header.frame_id;\nmsg.payload = {\n    header: {\n        frame_id: global.get(\"ros_world_frame\"),\n        stamp: poseB.header.stamp\n    },\n    pose: {\n        position: pRel,\n        orientation: {x: 0.0, y:0.0, z: 0.0, w: 1.0}//qRel\n    }\n};\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1210,
        "y": 4500,
        "wires": [
            [
                "e74fee85d6a38bf6"
            ]
        ]
    },
    {
        "id": "e74fee85d6a38bf6",
        "type": "link out",
        "z": "f6f2187d.f17ca8",
        "name": "PROCESS_OBJECT_OUT",
        "mode": "link",
        "links": [
            "904a9a3144a05d83"
        ],
        "x": 1630,
        "y": 4500,
        "wires": [],
        "l": true
    },
    {
        "id": "5e0dc2d95f306046",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "98acc585bfe962b1",
        "topicname": "/station/structure/static_objects/pose",
        "x": 310,
        "y": 4560,
        "wires": [
            [
                "8bc6f2881bce7006"
            ]
        ]
    },
    {
        "id": "a06d2ed1367ad532",
        "type": "ui-radio-group",
        "z": "f6f2187d.f17ca8",
        "d": true,
        "group": "e2828d41d9660087",
        "name": "",
        "label": "LEFT GRIPPER GRASP",
        "order": 13,
        "width": 0,
        "height": 0,
        "columns": 1,
        "passthru": false,
        "options": [
            {
                "label": "CLOSE",
                "value": true,
                "type": "bool"
            },
            {
                "label": "OPEN",
                "value": false,
                "type": "bool"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 410,
        "y": 200,
        "wires": [
            [
                "3e541a59e67e6138"
            ]
        ]
    },
    {
        "id": "3e541a59e67e6138",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Update Grasping",
        "func": "\nflow.set(\"grasping\", {\n    left_gripper: msg.payload,\n    right_gripper: false\n})\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "365237ce822da609",
        "type": "ros-call-service",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "servicename": "/rosapi/get_param",
        "srvtype": "rosapi/GetParam",
        "x": 890,
        "y": 4840,
        "wires": [
            [
                "d68b7a30c084a531"
            ]
        ]
    },
    {
        "id": "1c284b20a3330af5",
        "type": "link in",
        "z": "f6f2187d.f17ca8",
        "name": "UPDATE ROBOT MODEL",
        "links": [
            "6d22b4ed06a7f335"
        ],
        "x": 270,
        "y": 4840,
        "wires": [
            [
                "79a9013073fa88b3"
            ]
        ],
        "l": true
    },
    {
        "id": "79a9013073fa88b3",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "ROSAPI GET PARAM Request",
        "func": "msg.payload = {\n  \"name\": \"/robot_description_semantic\"\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 4840,
        "wires": [
            [
                "365237ce822da609"
            ]
        ]
    },
    {
        "id": "8c8ded7fdb047a8d",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "STORE MOVEIT GROUP NAMES",
        "func": "// Parse SRDF XML to extract move groups\nlet xmlString = msg.payload.value;\n\nif (!xmlString) {\n    msg.payload = { error: \"No SRDF data received\" };\n    return msg;\n}\n\n// Unescape the XML string (handle \\n, \\t, etc.)\nxmlString = xmlString.replace(/\\\\n/g, '\\n').replace(/\\\\t/g, '\\t').replace(/\\\\\"/g, '\"');\n\n// Store in flow context for later use\nflow.set('robot_description_semantic', xmlString);\n\n// First, parse end effector definitions to build a map\nconst endEffectorMap = {}; // group_name -> parent_link\nconst endEffectorRegex = /<end_effector\\s+name=\"([^\"]+)\"\\s+parent_link=\"([^\"]+)\"\\s+group=\"([^\"]+)\"\\s*\\/>/g;\nlet eeMatch;\nwhile ((eeMatch = endEffectorRegex.exec(xmlString)) !== null) {\n    const groupName = eeMatch[3];\n    const parentLink = eeMatch[2];\n    endEffectorMap[groupName] = parentLink;\n}\n\n// Parse XML to extract groups\nconst groups = [];\n\n// Match all group definitions\nconst groupBlockRegex = /<group\\s+name=\"([^\"]+)\">([\\s\\S]*?)<\\/group>/g;\nlet match;\n\nwhile ((match = groupBlockRegex.exec(xmlString)) !== null) {\n    const groupName = match[1];\n    const groupContent = match[2];\n    \n    // Check for subgroups (composite groups like both_arms)\n    const subgroupRegex = /<group\\s+name=\"([^\"]+)\"\\s*\\/>/g;\n    const subgroups = [];\n    let subMatch;\n    while ((subMatch = subgroupRegex.exec(groupContent)) !== null) {\n        subgroups.push(subMatch[1]);\n    }\n    \n    // Check for joints (arm groups)\n    const jointRegex = /<joint\\s+name=\"([^\"]+)\"\\s*\\/>/g;\n    const joints = [];\n    let jointMatch;\n    while ((jointMatch = jointRegex.exec(groupContent)) !== null) {\n        joints.push(jointMatch[1]);\n    }\n    \n    // Check for links (gripper groups)\n    const linkRegex = /<link\\s+name=\"([^\"]+)\"\\s*\\/>/g;\n    const links = [];\n    let linkMatch;\n    while ((linkMatch = linkRegex.exec(groupContent)) !== null) {\n        links.push(linkMatch[1]);\n    }\n    \n    // Check for chains (if any)\n    const chainRegex = /<chain\\s+base_link=\"([^\"]+)\"\\s+tip_link=\"([^\"]+)\"\\s*\\/>/g;\n    const chains = [];\n    let chainMatch;\n    while ((chainMatch = chainRegex.exec(groupContent)) !== null) {\n        chains.push({\n            base: chainMatch[1],\n            tip: chainMatch[2]\n        });\n    }\n    \n    // Determine type\n    let type = 'unknown';\n    if (subgroups.length > 0) {\n        type = 'composite';\n    } else if (joints.length > 0) {\n        type = 'joints';\n    } else if (chains.length > 0) {\n        type = 'chain';\n    } else if (links.length > 0) {\n        type = 'links';\n    }\n    \n    // Determine end effector count\n    let endEffectorCount = 0;\n    let endEffectorLinks = [];\n    \n    if (type === 'composite') {\n        // For composite groups, count end effectors from subgroups\n        subgroups.forEach(sg => {\n            if (endEffectorMap[sg]) {\n                endEffectorCount++;\n                endEffectorLinks.push(endEffectorMap[sg]);\n            }\n        });\n    } else {\n        // For non-composite groups, check if this group IS an end effector\n        if (endEffectorMap[groupName]) {\n            endEffectorLinks.push(endEffectorMap[groupName]);\n        }\n        // But the group itself doesn't \"have\" an end effector, it IS one\n        // So endEffectorCount stays 0 for grippers\n        // For arms, we need to check if they have an associated end effector\n        // by looking at which end effector has a parent_link in this group's chain\n        endEffectorCount = endEffectorLinks.length;\n    }\n    \n    groups.push({\n        name: groupName,\n        type: type,\n        subgroups: subgroups,\n        joints: joints,\n        links: links,\n        chains: chains,\n        endEffectorCount: endEffectorCount,\n        endEffectorLinks: endEffectorLinks,\n        isEndEffector: endEffectorMap.hasOwnProperty(groupName)\n    });\n}\n\n// Store parsed groups in flow context\nglobal.set('move_groups', groups);\n\nmsg.payload = {\n    groups: groups,\n    groupNames: groups.map(g => g.name),\n    count: groups.length\n};\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1500,
        "y": 4840,
        "wires": [
            [
                "f21157da9ff42c61",
                "0e93388e45693e52"
            ]
        ]
    },
    {
        "id": "d68b7a30c084a531",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1110,
        "y": 4840,
        "wires": [
            [
                "4490e6d0d350c532"
            ]
        ]
    },
    {
        "id": "4490e6d0d350c532",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1230,
        "y": 4840,
        "wires": [
            [
                "8c8ded7fdb047a8d"
            ]
        ]
    },
    {
        "id": "f21157da9ff42c61",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "MOVE GROUPS",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1800,
        "y": 4880,
        "wires": []
    },
    {
        "id": "3f8493e5c9912833",
        "type": "inject",
        "z": "f6f2187d.f17ca8",
        "name": "STARTUP",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 180,
        "y": 120,
        "wires": [
            [
                "6d22b4ed06a7f335"
            ]
        ]
    },
    {
        "id": "6d22b4ed06a7f335",
        "type": "link out",
        "z": "f6f2187d.f17ca8",
        "name": "STARTUP_OUT",
        "mode": "link",
        "links": [
            "1c284b20a3330af5"
        ],
        "x": 420,
        "y": 120,
        "wires": [],
        "l": true
    },
    {
        "id": "0e93388e45693e52",
        "type": "link out",
        "z": "f6f2187d.f17ca8",
        "name": "UPDATED MOVEIT GROUPS",
        "mode": "link",
        "links": [
            "04a572f3a873fd27"
        ],
        "x": 1840,
        "y": 4840,
        "wires": [],
        "l": true
    },
    {
        "id": "d5c772764a197584",
        "type": "link in",
        "z": "f6f2187d.f17ca8",
        "name": "SWITCH_MOVE_GROUP_IN",
        "links": [],
        "x": 280,
        "y": 4980,
        "wires": [
            [
                "dd10b15a644332bc"
            ]
        ],
        "l": true
    },
    {
        "id": "7a2bec39d669a805",
        "type": "link out",
        "z": "f6f2187d.f17ca8",
        "name": "SWITCH_MOVE_GROUP_OUT",
        "mode": "return",
        "links": [],
        "x": 1850,
        "y": 4980,
        "wires": [],
        "l": true
    },
    {
        "id": "00157fa0953b0aab",
        "type": "ros-call-service",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "servicename": "/switch_group",
        "srvtype": "moveit_commander/SwitchGroup",
        "x": 1000,
        "y": 4980,
        "wires": [
            [
                "78de507566b3ffc1"
            ]
        ]
    },
    {
        "id": "78de507566b3ffc1",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1210,
        "y": 4980,
        "wires": [
            [
                "d0cc0324ef341294"
            ]
        ]
    },
    {
        "id": "d0cc0324ef341294",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1330,
        "y": 4980,
        "wires": [
            [
                "084b314bd9ec42e4"
            ]
        ]
    },
    {
        "id": "b35a7596ae1c5b31",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "SWITCH GROUP REQUEST",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1040,
        "y": 4940,
        "wires": []
    },
    {
        "id": "dd10b15a644332bc",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Setup MoveitCommander SwitchGroup Request",
        "func": "flow.set(\"original_switch_msg\", msg);\nreturn {\n    payload : {\n        group_name: msg.payload\n    }\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 4980,
        "wires": [
            [
                "00157fa0953b0aab",
                "b35a7596ae1c5b31"
            ]
        ]
    },
    {
        "id": "084b314bd9ec42e4",
        "type": "function",
        "z": "f6f2187d.f17ca8",
        "name": "Restore SwitchMsg",
        "func": "var r_msg = flow.get(\"original_switch_msg\");\nr_msg.payload = msg.payload\nreturn r_msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1550,
        "y": 4980,
        "wires": [
            [
                "7a2bec39d669a805"
            ]
        ]
    },
    {
        "id": "b563ff68a44849d6",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/move_group/status",
        "x": 250,
        "y": 4700,
        "wires": [
            [
                "7176981f72bc8f8b"
            ]
        ]
    },
    {
        "id": "7176981f72bc8f8b",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 450,
        "y": 4700,
        "wires": [
            [
                "21ad13371366ee5a"
            ]
        ]
    },
    {
        "id": "21ad13371366ee5a",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 610,
        "y": 4700,
        "wires": [
            [
                "c0a5e71a8aff839e"
            ]
        ]
    },
    {
        "id": "c0d6decf543ee0ca",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "MOVE GROUP STATUS",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1030,
        "y": 4660,
        "wires": []
    },
    {
        "id": "c0a5e71a8aff839e",
        "type": "rbe",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "func": "rbe",
        "gap": "",
        "start": "",
        "inout": "out",
        "septopics": true,
        "property": "payload.status_list",
        "topi": "topic",
        "x": 790,
        "y": 4700,
        "wires": [
            [
                "c0d6decf543ee0ca",
                "e69a7357686b106a"
            ]
        ]
    },
    {
        "id": "e69a7357686b106a",
        "type": "link out",
        "z": "f6f2187d.f17ca8",
        "d": true,
        "name": "UPDATE MOVE GROUP STATUS",
        "mode": "link",
        "links": [
            "0faaaa4654a18d50"
        ],
        "x": 1060,
        "y": 4700,
        "wires": [],
        "l": true
    },
    {
        "id": "45dcc4a5f4ee63a8",
        "type": "ros-subscribe",
        "z": "f6f2187d.f17ca8",
        "server": "4bf02018241b669e",
        "topicname": "/execute_trajectory/result",
        "x": 270,
        "y": 5120,
        "wires": [
            [
                "034302197c85b162"
            ]
        ]
    },
    {
        "id": "034302197c85b162",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 510,
        "y": 5120,
        "wires": [
            [
                "b1bb9cacd0974cce"
            ]
        ]
    },
    {
        "id": "b1bb9cacd0974cce",
        "type": "json",
        "z": "f6f2187d.f17ca8",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 670,
        "y": 5120,
        "wires": [
            [
                "5b28060bb902bf1e",
                "f34033d998ddea92"
            ]
        ]
    },
    {
        "id": "f34033d998ddea92",
        "type": "link out",
        "z": "f6f2187d.f17ca8",
        "name": "UPDATE MOVE GROUP TRAJECTORY_RESULT",
        "mode": "link",
        "links": [
            "0faaaa4654a18d50"
        ],
        "x": 1160,
        "y": 5120,
        "wires": [],
        "l": true
    },
    {
        "id": "5b28060bb902bf1e",
        "type": "debug",
        "z": "f6f2187d.f17ca8",
        "name": "MOVE GROUP ExecuteTrajectory Result",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1140,
        "y": 5080,
        "wires": []
    },
    {
        "id": "c4dd694478a65776",
        "type": "http request",
        "z": "c68dc494590553a0",
        "name": "POST INVOKE poseCommand",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            }
        ],
        "x": 1170,
        "y": 2240,
        "wires": [
            [
                "add78d267fcb4482"
            ]
        ]
    },
    {
        "id": "d341b21395c0b91a",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "INVOKE poseCommand",
        "func": "msg.url = \"http://\" + env.get('AAS_HOST') + \":\" + env.get('AAS_PORT') + \n    \"/aasServer/shells/d3d3LnhyNTAuY29tL2t1a2Eva3IxMC9pZHMvYWFzL2t1a2E=\" + \n    \"/aas/submodels/d3d3LnhyNTAuY29tL2t1a2Eva3IxMC9pZHMvc20vT3BlcmF0aW9uYWxEYXRh/submodel/submodel-elements/moveIt.poseCommand/Invoke?async=false\"\nmsg.payload = {\n    inoutputArguments:[\n        {\n            value: {\n                submodelElement:{\n                    value: msg.payload,\n                    semanticId:{\n                        keys:[]\n                    },\n                    idShort:\"id\",\n                    category:\"VARIABLE\",\n                    modelType:{\n                        name:\"Property\"\n                    },\n                    valueType:{\n                        dataObjectType:{\n                            name:\"\"\n                        }\n                    },\n                    kind:\"Instance\"\n                }\n            },\n            \"modelType\":{\n                name:\"OperationVariable\"\n            }\n        }\n    ],\n    inputArguments: [\n        {\n            value: {\n                \"idShort\": \"pose\",\n                \"value\": [\n                    {\n                        \"idShort\": \"position\",\n                        \"value\": [\n                            {\n                                \"idShort\": \"x\",\n                                \"valueType\": \"xs:float\",\n                                \"modelType\": \"Property\",\n                                value: msg.payload.position.x\n                            },\n                            {\n                                \"idShort\": \"y\",\n                                \"valueType\": \"xs:float\",\n                                \"modelType\": \"Property\",\n                                value: msg.payload.position.y\n                            },\n                            {\n                                \"idShort\": \"z\",\n                                \"valueType\": \"xs:float\",\n                                \"modelType\": \"Property\",\n                                value: msg.payload.position.z\n                            }\n                        ],\n                        \"modelType\": \"SubmodelElementCollection\"\n                    },\n                    {\n                        \"idShort\": \"orientation\",\n                        \"value\": [\n                            {\n                                \"idShort\": \"w\",\n                                \"valueType\": \"xs:float\",\n                                \"modelType\": \"Property\",\n                                value: msg.payload.orientation.w\n                            },\n                            {\n                                \"idShort\": \"x\",\n                                \"valueType\": \"xs:float\",\n                                \"modelType\": \"Property\",\n                                value: msg.payload.orientation.x\n                            },\n                            {\n                                \"idShort\": \"y\",\n                                \"valueType\": \"xs:float\",\n                                \"modelType\": \"Property\",\n                                value: msg.payload.orientation.y\n                            },\n                            {\n                                \"idShort\": \"z\",\n                                \"valueType\": \"xs:float\",\n                                \"modelType\": \"Property\",\n                                value: msg.payload.orientation.z\n                            }\n                        ],\n                        \"modelType\": \"SubmodelElementCollection\"\n                    }\n                ],\n                \"modelType\": \"SubmodelElementCollection\"\n            }\n        },\n        {\n            value: {\n                \"idShort\": \"execute\",\n                \"valueType\": \"xs:bool\",\n                \"modelType\": \"Property\",\n                value: flow.get(\"execute\")\n            }\n            \n        }\n\n    ]\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 2240,
        "wires": [
            [
                "c4dd694478a65776",
                "d03c8d5cf531d47a"
            ]
        ]
    },
    {
        "id": "3bf62250f0904a1b",
        "type": "debug",
        "z": "c68dc494590553a0",
        "name": "PoseCommand Reply",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1660,
        "y": 2240,
        "wires": []
    },
    {
        "id": "add78d267fcb4482",
        "type": "json",
        "z": "c68dc494590553a0",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1430,
        "y": 2240,
        "wires": [
            [
                "3bf62250f0904a1b"
            ]
        ]
    },
    {
        "id": "fb508584426e6e19",
        "type": "mqtt in",
        "z": "c68dc494590553a0",
        "name": "",
        "topic": "aas//aasServer/shells/d3d3LnhyNTAuY29tL2t1a2Eva3IxMC9pZHMvYWFzL2t1a2E=/sm/d3d3LnhyNTAuY29tL2t1a2Eva3IxMC9pZHMvc20vT3BlcmF0aW9uYWxEYXRh/moveIt.moveStatus",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "71a7f9f66f1df546",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 850,
        "y": 2360,
        "wires": [
            [
                "710842bdf0013399",
                "ad13c17093115890"
            ]
        ]
    },
    {
        "id": "710842bdf0013399",
        "type": "debug",
        "z": "c68dc494590553a0",
        "name": "robotStatus (unscrewApproach) feedback MQTT",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1740,
        "y": 2320,
        "wires": []
    },
    {
        "id": "e7fbbca17af1c37c",
        "type": "http request",
        "z": "c68dc494590553a0",
        "name": "POST INVOKE jointCommand",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Content-Type",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            }
        ],
        "x": 1190,
        "y": 2440,
        "wires": [
            [
                "c282a1fbebb48185"
            ]
        ]
    },
    {
        "id": "cb950b5381b5d208",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "INVOKE jointCommand",
        "func": "var joint_states = flow.get( \"joint_states\")\n\nmsg.url = \"http://\" + env.get('AAS_HOST') + \":\" + env.get('AAS_PORT') + \n    \"/aasServer/shells/d3d3LnhyNTAuY29tL2t1a2Eva3IxMC9pZHMvYWFzL2t1a2E=\" +\n    \"/aas/submodels/d3d3LnhyNTAuY29tL2t1a2Eva3IxMC9pZHMvc20vT3BlcmF0aW9uYWxEYXRh/submodel/submodel-elements/moveIt.jointCommand/Invoke?async=false\"\nmsg.payload = {\n    inoutputArguments: [\n        {\n            value: {\n                submodelElement: {\n                    value: msg.payload,\n                    semanticId: {\n                        keys: []\n                    },\n                    idShort: \"id\",\n                    category: \"VARIABLE\",\n                    modelType: {\n                        name: \"Property\"\n                    },\n                    valueType: {\n                        dataObjectType: {\n                            name: \"\"\n                        }\n                    },\n                    kind: \"Instance\"\n                }\n            },\n            \"modelType\": {\n                name: \"OperationVariable\"\n            }\n        }\n    ],\n    inputArguments: [\n        {\n            value: {\n                \"idShort\": \"joints\",\n                \"value\": [\n                    {\n                        \"idShort\": \"positions\",\n                        \"value\": [\n                            {\n                                \"idShort\": \"a1\",\n                                \"valueType\": \"xs:double\",\n                                \"modelType\": \"Property\",\n                                value: joint_states.position[0]\n                            },\n                            {\n                                \"idShort\": \"a2\",\n                                \"valueType\": \"xs:double\",\n                                \"modelType\": \"Property\",\n                                value: joint_states.position[1]\n                            },\n                            {\n                                \"idShort\": \"a3\",\n                                \"valueType\": \"xs:double\",\n                                \"modelType\": \"Property\",\n                                value: joint_states.position[2]\n                            },\n                            {\n                                \"idShort\": \"a4\",\n                                \"valueType\": \"xs:double\",\n                                \"modelType\": \"Property\",\n                                value: joint_states.position[3]\n                            },\n                            {\n                                \"idShort\": \"a5\",\n                                \"valueType\": \"xs:double\",\n                                \"modelType\": \"Property\",\n                                value: joint_states.position[4]\n                            },\n                            {\n                                \"idShort\": \"a6\",\n                                \"valueType\": \"xs:double\",\n                                \"modelType\": \"Property\",\n                                value: joint_states.position[5]\n                            }\n                        ],\n                        \"modelType\": \"SubmodelElementCollection\"\n                    },\n                    {\n                        \"idShort\": \"velocities\",\n                        \"value\": [\n                            {\n                                \"idShort\": \"a1Speed\",\n                                \"valueType\": \"xs:double\",\n                                \"modelType\": \"Property\",\n                                value: 0.0\n                            },\n                            {\n                                \"idShort\": \"a2Speed\",\n                                \"valueType\": \"xs:double\",\n                                \"modelType\": \"Property\",\n                                value: 0.0\n                            },\n                            {\n                                \"idShort\": \"a3Speed\",\n                                \"valueType\": \"xs:double\",\n                                \"modelType\": \"Property\",\n                                value: 0.0\n                            },\n                            {\n                                \"idShort\": \"a4Speed\",\n                                \"valueType\": \"xs:double\",\n                                \"modelType\": \"Property\",\n                                value: 0.0\n                            },\n                            {\n                                \"idShort\": \"a5Speed\",\n                                \"valueType\": \"xs:double\",\n                                \"modelType\": \"Property\",\n                                value: 0.0\n                            },\n                            {\n                                \"idShort\": \"a6Speed\",\n                                \"valueType\": \"xs:double\",\n                                \"modelType\": \"Property\",\n                                value: 0.0\n                            }\n                        ],\n                        \"modelType\": \"SubmodelElementCollection\"\n                    },\n                    {\n                        \"idShort\": \"efforts\",\n                        \"value\": [\n                            {\n                                \"idShort\": \"a1Effort\",\n                                \"valueType\": \"xs:double\",\n                                \"modelType\": \"Property\",\n                                value: 0.0\n                            },\n                            {\n                                \"idShort\": \"a2Effort\",\n                                \"valueType\": \"xs:double\",\n                                \"modelType\": \"Property\",\n                                value: 0.0\n                            },\n                            {\n                                \"idShort\": \"a3Effort\",\n                                \"valueType\": \"xs:double\",\n                                \"modelType\": \"Property\",\n                                value: 0.0\n                            },\n                            {\n                                \"idShort\": \"a4Effort\",\n                                \"valueType\": \"xs:double\",\n                                \"modelType\": \"Property\",\n                                value: 0.0\n                            },\n                            {\n                                \"idShort\": \"a5Effort\",\n                                \"valueType\": \"xs:double\",\n                                \"modelType\": \"Property\",\n                                value: 0.0\n                            },\n                            {\n                                \"idShort\": \"a6Effort\",\n                                \"valueType\": \"xs:double\",\n                                \"modelType\": \"Property\",\n                                value: 0.0\n                            }\n                        ],\n                        \"modelType\": \"SubmodelElementCollection\"\n                    }\n                ],\n                \"modelType\": \"SubmodelElementCollection\"\n            }\n        },\n        {\n            value: {\n                \"idShort\": \"execute\",\n                \"valueType\": \"xs:bool\",\n                \"modelType\": \"Property\",\n                value: flow.get(\"execute\")\n            }\n\n        }\n\n    ]\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 2440,
        "wires": [
            [
                "e7fbbca17af1c37c"
            ]
        ]
    },
    {
        "id": "f758daeff3d13085",
        "type": "debug",
        "z": "c68dc494590553a0",
        "name": "Invoke JointCommand Reply",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1680,
        "y": 2440,
        "wires": []
    },
    {
        "id": "c282a1fbebb48185",
        "type": "json",
        "z": "c68dc494590553a0",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1430,
        "y": 2440,
        "wires": [
            [
                "f758daeff3d13085"
            ]
        ]
    },
    {
        "id": "d03c8d5cf531d47a",
        "type": "debug",
        "z": "c68dc494590553a0",
        "name": "PoseCommand Request",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "url",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1150,
        "y": 2200,
        "wires": []
    },
    {
        "id": "ad13c17093115890",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1640,
        "y": 2360,
        "wires": [
            [
                "991a7d32af47feea"
            ]
        ]
    },
    {
        "id": "991a7d32af47feea",
        "type": "json",
        "z": "c68dc494590553a0",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1850,
        "y": 2360,
        "wires": [
            [
                "aa42246c23fae64e"
            ]
        ]
    },
    {
        "id": "9dde1335b98d9878",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Update Joint Position",
        "func": "var joint_states = flow.get(\"joint_states\");\n\nif (msg.field.isdegree == true)\n    joint_states.position[msg.field.index] = msg.payload * (Math.PI / 180);\nelse \n    joint_states.position[msg.field.index] = msg.payload\n\nflow.set(\"joint_states\", joint_states);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1440,
        "y": 620,
        "wires": [
            [
                "f3a4112ec0666191"
            ]
        ]
    },
    {
        "id": "7cf55e3140f10d1c",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "field",
                "pt": "msg",
                "to": "{\"index\":0,\"isdegree\":true}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 280,
        "wires": [
            [
                "9dde1335b98d9878"
            ]
        ]
    },
    {
        "id": "22c969d557a34dc4",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "field",
                "pt": "msg",
                "to": "{\"index\":1,\"isdegree\":true}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 320,
        "wires": [
            [
                "9dde1335b98d9878"
            ]
        ]
    },
    {
        "id": "e51b497a122435dd",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "field",
                "pt": "msg",
                "to": "{\"index\":2,\"isdegree\":true}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 360,
        "wires": [
            [
                "9dde1335b98d9878"
            ]
        ]
    },
    {
        "id": "62d7fca21d36de2a",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "field",
                "pt": "msg",
                "to": "{\"index\":3,\"isdegree\":true}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 400,
        "wires": [
            [
                "9dde1335b98d9878"
            ]
        ]
    },
    {
        "id": "03968ec10cec0154",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "field",
                "pt": "msg",
                "to": "{\"index\":4,\"isdegree\":true}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 440,
        "wires": [
            [
                "9dde1335b98d9878"
            ]
        ]
    },
    {
        "id": "2df8be83c8c0efe0",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "field",
                "pt": "msg",
                "to": "{\"index\":5,\"isdegree\":true}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 480,
        "wires": [
            [
                "9dde1335b98d9878"
            ]
        ]
    },
    {
        "id": "bd4d06d9025b2a22",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "STARTUP",
        "func": "\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "flow.set(\"joint_states\", {\n    \"header\": {\n        \"seq\": 5060,\n        \"stamp\": {\n            \"secs\": 1769686986,\n            \"nsecs\": 354053258\n        },\n        \"frame_id\": \"\"\n    },\n    \"name\": [\n        \"yumi_joint_1_r\",\n        \"yumi_joint_2_r\",\n        \"yumi_joint_7_r\",\n        \"yumi_joint_3_r\",\n        \"yumi_joint_4_r\",\n        \"yumi_joint_5_r\",\n        \"yumi_joint_6_r\",\n        \"yumi_joint_1_l\",\n        \"yumi_joint_2_l\",\n        \"yumi_joint_7_l\",\n        \"yumi_joint_3_l\",\n        \"yumi_joint_4_l\",\n        \"yumi_joint_5_l\",\n        \"yumi_joint_6_l\",\n        \"gripper_r_joint\",\n        \"gripper_r_joint_m\",\n        \"gripper_l_joint\",\n        \"gripper_l_joint_m\"\n    ],\n    \"position\": [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    \"velocity\": [],\n    \"effort\": []\n});\n\nflow.set(\"goal_pose\", {\n    position: {\n        x: 0.0,\n        y: 0.4,\n        z: 0.25\n    },\n    orientation: {\n        roll: 90.0,\n        pitch: 0.0,\n        yaw: 180.0\n    }\n})\n\nflow.set(\"goal_redboard_pose\", {\n    position: {\n        x: -0.15,\n        y: 0.4,\n        z: 0.3\n    },\n    orientation: {\n        roll: 90.0,\n        pitch: 0.0,\n        yaw: 180.0\n    }\n})\n\nflow.set(\"spl_container_pose\", {\n    position: {\n        x: 0.5 - 0.0428,\n        y: 0.15 - 0.04,\n        z: 0.4\n    },\n    orientation: {\n        roll: 0.0,\n        pitch: -180.0,\n        yaw: 0.0\n    }\n})\n\nflow.set(\"execute\", false);\n\nflow.set(\"spl_path_index\", 0)\n\nflow.set(\"spl_container_path_index\", 0)\n\n/***\n * FINAL SPL PATH BASED ON OBJECTS\n */\n\nflow.set(\"spl_production_path_index\", 0)\n\nflow.set(\"offset_eurocontainer_slot\", {\n    position: {\n        x: -0.0428,\n        y: -0.04,\n        z: 0.12/2 + 0.05 // EC Center + SPL Mount Offset\n    },\n    orientation: {\n        roll: 0.0,\n        pitch: -180.0,\n        yaw: 0.0\n    }\n})\nflow.set(\"offset_redboard\", {\n    position: {\n        x: 0.005, //SPL Descentrados\n        y: 0.00,\n        z: 0.05\n    },\n    orientation: {\n        roll: 90.0,\n        pitch: 0.0,\n        yaw: 180.0\n    }\n})\nflow.set(\"container_approach\", {\n    position: {\n        x: 0.0,\n        y: 0.0,\n        z: 0.05,\n    },\n    orientation: {\n        roll: 0.0,\n        pitch: -180.0,\n        yaw: 0.0\n    }\n})\nflow.set(\"redboard_approach\", {\n    position: {\n        x: 0.0, //SPL Descentrados\n        y: 0.0,\n        z: 0.05\n    },\n    orientation: {\n        roll: -90.0,\n        pitch: 0.0,\n        yaw: 0//180.0\n    }\n});\n\n\nflow.set(\"current_eurocontainer_slot\", 0);\nflow.set(\"current_eurocontainer_spl_slot\", 0);\nflow.set(\"current_redboard_spl_slot\", 0);\n\nflow.set(\"current_task\", {\n    action: 1,\n    slots: [0, 0, 0]\n});\n\nflow.set(\"offset_eurocontainer_spl_slot\", {\n    position: {\n        x: 2*0.0428,\n        y: 0.02,\n        z: 0.0\n    },\n    orientation: {\n        roll: 0.0,\n        pitch: -180.0,\n        yaw: 0.0\n    }\n})\n\n\nglobal.set(\"sumPositionOffset\", function (base, offset) {\n    return {\n        header: base.header,\n        pose:\n        {\n            position: {\n                x: base.pose.position.x + offset.position.x,\n                y: base.pose.position.y + offset.position.y,\n                z: base.pose.position.z + offset.position.z\n            },\n            orientation: base.pose.orientation\n        }\n    };\n});\n\nflow.set(\"leftarm_home_joint_states\", {\n    \"header\": {\n        \"seq\": 5060,\n        \"stamp\": {\n            \"secs\": 1769686986,\n            \"nsecs\": 354053258\n        },\n        \"frame_id\": \"\"\n    },\n    \"name\": [\n        \"yumi_joint_1_l\",\n        \"yumi_joint_2_l\",\n        \"yumi_joint_7_l\",\n        \"yumi_joint_3_l\",\n        \"yumi_joint_4_l\",\n        \"yumi_joint_5_l\",\n        \"yumi_joint_6_l\",\n    ],\n    \"position\": [ -0.6, -1.2, -0.8, -0.3, 0.65, 0.435, -0.573],\n    \"velocity\": [],\n    \"effort\": []\n});\n\n/**\n * TASK PATH-DECOMPOSITION INDEX\n */\n\nflow.set(\"spl_production_task_index\", 0)\n",
        "finalize": "",
        "libs": [],
        "x": 190,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "0d7268fb3b726e84",
        "type": "link in",
        "z": "c68dc494590553a0",
        "name": "DASH JOINTS Update",
        "links": [
            "f3a4112ec0666191",
            "33d2be3aab688dd7"
        ],
        "x": 220,
        "y": 1440,
        "wires": [
            [
                "bad86e164202e117",
                "90513b0bc18327e4"
            ]
        ],
        "l": true
    },
    {
        "id": "f3a4112ec0666191",
        "type": "link out",
        "z": "c68dc494590553a0",
        "name": "DASH JOINTS Update",
        "mode": "link",
        "links": [
            "0d7268fb3b726e84",
            "b026229d752d0576",
            "fb7303edc0e890d8"
        ],
        "x": 1700,
        "y": 620,
        "wires": [],
        "l": true
    },
    {
        "id": "bad86e164202e117",
        "type": "function",
        "z": "c68dc494590553a0",
        "d": true,
        "name": "Get Joint Position",
        "func": "var joint_states = flow.get(\"joint_states\");\n\nif (!joint_states || !joint_states.position || !joint_states.name) {\n    return null;\n}\n\nvar outputs = [];\n\nfor (let i = 0; i < joint_states.name.length; i++) {\n    if (i > 13) {\n        outputs[i] = {\n            payload: joint_states.position[i],\n            //ui_update: {label: joint_states.name[i]}\n        };\n    }\n    else {\n        outputs[i] = {\n        payload: (joint_states.position[i] / (Math.PI / 180)).toFixed(0),\n        //ui_update: {label: joint_states.name[i]}\n        };\n    }\n    \n}\n\nreturn outputs;",
        "outputs": 18,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 530,
        "y": 1440,
        "wires": [
            [
                "0ac449ef8a83a973"
            ],
            [
                "30c1ee7033abc55c"
            ],
            [
                "2e3faac0f6c3d1fb"
            ],
            [
                "49486f8d9c118f63"
            ],
            [
                "9d17dee7b493e6bc"
            ],
            [
                "0f72401b33a98140"
            ],
            [
                "d83b799dd25eba09"
            ],
            [
                "c022e85d4b4849bf"
            ],
            [
                "d8b192f473e1dc74"
            ],
            [
                "8aedf2e7c52c3723"
            ],
            [
                "8febb970973e74f3"
            ],
            [
                "ea4d378dde18397d"
            ],
            [
                "15b77b9ff2bb9e89"
            ],
            [
                "ef54df41b753b2a0"
            ],
            [
                "d1eea1d0b2fe15af"
            ],
            [
                "8af72d50ca4226d3"
            ],
            [
                "de43208e455a3a9d"
            ],
            [
                "7da35fe640b2e13b"
            ]
        ]
    },
    {
        "id": "6f2a7f198a99e5cb",
        "type": "inject",
        "z": "c68dc494590553a0",
        "name": "STARTUP",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 190,
        "y": 120,
        "wires": [
            [
                "33d2be3aab688dd7"
            ]
        ]
    },
    {
        "id": "33d2be3aab688dd7",
        "type": "link out",
        "z": "c68dc494590553a0",
        "name": "DASH STARTUP",
        "mode": "link",
        "links": [
            "b026229d752d0576",
            "fb7303edc0e890d8",
            "d9453bb3a0f459b8",
            "0d7268fb3b726e84",
            "98bab3db94280312",
            "f1eb1c6364412642",
            "a449df471e95ccf4",
            "e8a95db0da5cab3c",
            "3e2bf9309f31a5c4"
        ],
        "x": 440,
        "y": 120,
        "wires": [],
        "l": true
    },
    {
        "id": "b026229d752d0576",
        "type": "link in",
        "z": "c68dc494590553a0",
        "name": "DASH JOINTS STARTUP",
        "links": [
            "33d2be3aab688dd7",
            "f3a4112ec0666191"
        ],
        "x": 190,
        "y": 640,
        "wires": [
            [
                "f6b2d0671077fee4",
                "4ed58dce89299d53",
                "25ff608bf0eed55c",
                "747e27275a8910ab",
                "1747f0de3d52e1bb",
                "7248dfae738fb29c",
                "6ddad16c910401dc",
                "8a8e5f7bb2e5f238",
                "016679f3ce6eb1c7",
                "32281e9ea83414dc",
                "27b40aac95c60682",
                "133f093376592dc6",
                "bb4a3a5a0e639b77",
                "b887f9a3c9d8a053",
                "ad9e845ce94da8da",
                "72b7e1d75bbaca24",
                "7d55917215424d97",
                "fbef53930b5974a9"
            ]
        ],
        "l": true
    },
    {
        "id": "4ed58dce89299d53",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get Joint Position",
        "func": "var joint_states = flow.get(\"joint_states\");\nmsg.payload = (joint_states.position[1] / (Math.PI / 180)).toFixed(1);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 320,
        "wires": [
            [
                "99f57ace925f0857"
            ]
        ]
    },
    {
        "id": "f6b2d0671077fee4",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get Joint Position",
        "func": "var joint_states = flow.get(\"joint_states\");\nmsg.payload = (joint_states.position[0] / (Math.PI / 180)).toFixed(0);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 280,
        "wires": [
            [
                "77c6ba14bbe8ae60"
            ]
        ]
    },
    {
        "id": "747e27275a8910ab",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get Joint Position",
        "func": "var joint_states = flow.get(\"joint_states\");\nmsg.payload = (joint_states.position[2] / (Math.PI / 180)).toFixed(0);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 360,
        "wires": [
            [
                "ea7e44fc7037e6f0"
            ]
        ]
    },
    {
        "id": "25ff608bf0eed55c",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get Joint Position",
        "func": "var joint_states = flow.get(\"joint_states\");\nmsg.payload = (joint_states.position[3] / (Math.PI / 180)).toFixed(0);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 400,
        "wires": [
            [
                "ed964fe3d6810bc8"
            ]
        ]
    },
    {
        "id": "1747f0de3d52e1bb",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get Joint Position",
        "func": "var joint_states = flow.get(\"joint_states\");\nmsg.payload = (joint_states.position[4] / (Math.PI / 180)).toFixed(0);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 440,
        "wires": [
            [
                "4d247e3817c0105a"
            ]
        ]
    },
    {
        "id": "7248dfae738fb29c",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get Joint Position",
        "func": "var joint_states = flow.get(\"joint_states\");\nmsg.payload = (joint_states.position[5] / (Math.PI / 180)).toFixed(0);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 480,
        "wires": [
            [
                "acd9796f675f0a5b"
            ]
        ]
    },
    {
        "id": "90513b0bc18327e4",
        "type": "function",
        "z": "c68dc494590553a0",
        "d": true,
        "name": "Use as JointStatePublisher",
        "func": "\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 1780,
        "wires": [
            [
                "84d841b6d940edc9"
            ]
        ]
    },
    {
        "id": "7a8592945dd146ac",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "execute",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 2140,
        "wires": [
            []
        ]
    },
    {
        "id": "7a09aa71f16675fc",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "execute",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 2140,
        "wires": [
            [
                "5c3fda63d6aa6dc0"
            ]
        ]
    },
    {
        "id": "fb7303edc0e890d8",
        "type": "link in",
        "z": "c68dc494590553a0",
        "name": "DASH EXECUTE STARTUP",
        "links": [
            "33d2be3aab688dd7",
            "5c9f679e0bdd5e8a",
            "f3a4112ec0666191"
        ],
        "x": 340,
        "y": 2140,
        "wires": [
            [
                "7a09aa71f16675fc"
            ]
        ],
        "l": true
    },
    {
        "id": "30f644c1779fd79e",
        "type": "link in",
        "z": "c68dc494590553a0",
        "d": true,
        "name": "DASH POSE Update",
        "links": [
            "5c9f679e0bdd5e8a"
        ],
        "x": 320,
        "y": 2960,
        "wires": [
            [
                "e89c23473a06a274",
                "682cedbedccf9e74",
                "74b2a7b9754d7cf1",
                "1e77c70ef8341a9d",
                "2b8af0112d880289",
                "fbbdd6be418de96a"
            ]
        ],
        "l": true
    },
    {
        "id": "5c9f679e0bdd5e8a",
        "type": "link out",
        "z": "c68dc494590553a0",
        "name": "DASH POSE Update",
        "mode": "link",
        "links": [
            "30f644c1779fd79e",
            "d9453bb3a0f459b8",
            "fb7303edc0e890d8"
        ],
        "x": 1740,
        "y": 2660,
        "wires": [],
        "l": true
    },
    {
        "id": "d9453bb3a0f459b8",
        "type": "link in",
        "z": "c68dc494590553a0",
        "name": "DASH POSE STARTUP",
        "links": [
            "33d2be3aab688dd7",
            "5c9f679e0bdd5e8a"
        ],
        "x": 340,
        "y": 2660,
        "wires": [
            [
                "b765ee084324119c",
                "ad04145ebdb8e54e",
                "445561ec8dc89798",
                "f53cc4f030c551e6",
                "16805c3d91d39cc5",
                "e4dc74b7edcb11f1"
            ]
        ],
        "l": true
    },
    {
        "id": "b765ee084324119c",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get GOAL Pose Position X",
        "func": "var goal_pose = flow.get(\"goal_pose\");\nmsg.payload = goal_pose.position.x\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 2560,
        "wires": [
            [
                "7ca11e996120efce"
            ]
        ]
    },
    {
        "id": "ad04145ebdb8e54e",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get GOAL Pose Position Y",
        "func": "var goal_pose = flow.get(\"goal_pose\");\nmsg.payload = goal_pose.position.y\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 2600,
        "wires": [
            [
                "57e1817e73d66529"
            ]
        ]
    },
    {
        "id": "f53cc4f030c551e6",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get GOAL Pose Position Z",
        "func": "var goal_pose = flow.get(\"goal_pose\");\nmsg.payload = goal_pose.position.z\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 2640,
        "wires": [
            [
                "95a6b14da7c7e65a"
            ]
        ]
    },
    {
        "id": "445561ec8dc89798",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get GOAL Pose Orientation R",
        "func": "var goal_pose = flow.get(\"goal_pose\");\nmsg.payload = goal_pose.orientation.roll\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 2680,
        "wires": [
            [
                "79def986eaabc751"
            ]
        ]
    },
    {
        "id": "16805c3d91d39cc5",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get GOAL Pose Orientation P",
        "func": "var goal_pose = flow.get(\"goal_pose\");\nmsg.payload = goal_pose.orientation.pitch\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 2720,
        "wires": [
            [
                "a0d01cd6bcb2580d"
            ]
        ]
    },
    {
        "id": "e4dc74b7edcb11f1",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get GOAL Pose Orientation Y",
        "func": "var goal_pose = flow.get(\"goal_pose\");\nmsg.payload = goal_pose.orientation.yaw\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 2760,
        "wires": [
            [
                "54f5743d3a3d5aab"
            ]
        ]
    },
    {
        "id": "360bbf993cca772e",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Convert Pose",
        "func": "function rpyToQuaternion(rpy) {\n  \n  // Convert half angles\n  const cy = Math.cos(rpy.yaw * (Math.PI / 180) * 0.5);\n  const sy = Math.sin(rpy.yaw * (Math.PI / 180) * 0.5);\n  const cp = Math.cos(rpy.pitch * (Math.PI / 180) * 0.5);\n  const sp = Math.sin(rpy.pitch * (Math.PI / 180) * 0.5);\n  const cr = Math.cos(rpy.roll * (Math.PI / 180) * 0.5);\n  const sr = Math.sin(rpy.roll * (Math.PI / 180) * 0.5);\n\n  const q = {\n    x: sr * cp * cy - cr * sp * sy,\n    y: cr * sp * cy + sr * cp * sy,\n    z: cr * cp * sy - sr * sp * cy,\n    w: cr * cp * cy + sr * sp * sy\n  };\n\n  return q;\n}\n\nvar goal_pose = flow.get(\"goal_pose\");\n\n\nmsg.payload = {\n    position : goal_pose.position,\n    orientation: rpyToQuaternion(goal_pose.orientation)\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 2240,
        "wires": [
            [
                "d341b21395c0b91a"
            ]
        ]
    },
    {
        "id": "4e628a077ede50ad",
        "type": "ros-publish",
        "z": "c68dc494590553a0",
        "server": "4bf02018241b669e",
        "topicname": "/yumi_commander/goal_pose",
        "msgtype": "geometry_msgs/PoseStamped",
        "x": 1810,
        "y": 3140,
        "wires": []
    },
    {
        "id": "e89c23473a06a274",
        "type": "function",
        "z": "c68dc494590553a0",
        "d": true,
        "name": "Get GOAL Pose Position X",
        "func": "var goal_pose = flow.get(\"goal_pose\");\nmsg.payload = goal_pose.position.x\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 2840,
        "wires": [
            [
                "f67fb5b2b1e7ad95"
            ]
        ]
    },
    {
        "id": "682cedbedccf9e74",
        "type": "function",
        "z": "c68dc494590553a0",
        "d": true,
        "name": "Get GOAL Pose Position Y",
        "func": "var goal_pose = flow.get(\"goal_pose\");\nmsg.payload = goal_pose.position.y\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 2880,
        "wires": [
            [
                "6e24f6f034bbdc56"
            ]
        ]
    },
    {
        "id": "74b2a7b9754d7cf1",
        "type": "function",
        "z": "c68dc494590553a0",
        "d": true,
        "name": "Get GOAL Pose Position Z",
        "func": "var goal_pose = flow.get(\"goal_pose\");\nmsg.payload = goal_pose.position.z\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 2920,
        "wires": [
            [
                "1e8dae35250601a3"
            ]
        ]
    },
    {
        "id": "1e77c70ef8341a9d",
        "type": "function",
        "z": "c68dc494590553a0",
        "d": true,
        "name": "Get GOAL Pose Orientation R",
        "func": "var goal_pose = flow.get(\"goal_pose\");\nmsg.payload = goal_pose.orientation.roll\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 2960,
        "wires": [
            [
                "e7baf6bf8f9c99c5"
            ]
        ]
    },
    {
        "id": "2b8af0112d880289",
        "type": "function",
        "z": "c68dc494590553a0",
        "d": true,
        "name": "Get GOAL Pose Orientation P",
        "func": "var goal_pose = flow.get(\"goal_pose\");\nmsg.payload = goal_pose.orientation.pitch\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 3000,
        "wires": [
            [
                "0da2b452b694597c"
            ]
        ]
    },
    {
        "id": "fbbdd6be418de96a",
        "type": "function",
        "z": "c68dc494590553a0",
        "d": true,
        "name": "Get GOAL Pose Orientation Y",
        "func": "var goal_pose = flow.get(\"goal_pose\");\nmsg.payload = goal_pose.orientation.yaw\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 3040,
        "wires": [
            [
                "892c7604324b14cf"
            ]
        ]
    },
    {
        "id": "7d55917215424d97",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get Joint Position",
        "func": "var joint_states = flow.get(\"joint_states\");\nmsg.payload = joint_states.position[16];\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 960,
        "wires": [
            [
                "2ad791853f879c84",
                "811e45e1d1fc3d49"
            ]
        ]
    },
    {
        "id": "72b7e1d75bbaca24",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get Joint Position",
        "func": "var joint_states = flow.get(\"joint_states\");\nmsg.payload = (joint_states.position[6] / (Math.PI / 180)).toFixed(0);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 520,
        "wires": [
            [
                "830d6451ac2bec49"
            ]
        ]
    },
    {
        "id": "fbef53930b5974a9",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get Joint Position",
        "func": "var joint_states = flow.get(\"joint_states\");\nmsg.payload = (joint_states.position[8] / (Math.PI / 180)).toFixed(0);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 1000,
        "wires": [
            []
        ]
    },
    {
        "id": "6ddad16c910401dc",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get Joint Position",
        "func": "var joint_states = flow.get(\"joint_states\");\nmsg.payload = (joint_states.position[7] / (Math.PI / 180)).toFixed(0);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 580,
        "wires": [
            [
                "cc21321e1e061fee"
            ]
        ]
    },
    {
        "id": "8a8e5f7bb2e5f238",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get Joint Position",
        "func": "var joint_states = flow.get(\"joint_states\");\nmsg.payload = (joint_states.position[8] / (Math.PI / 180)).toFixed(0);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 620,
        "wires": [
            [
                "f34ffe307001f09d"
            ]
        ]
    },
    {
        "id": "016679f3ce6eb1c7",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get Joint Position",
        "func": "var joint_states = flow.get(\"joint_states\");\nmsg.payload = (joint_states.position[9] / (Math.PI / 180)).toFixed(0);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 660,
        "wires": [
            [
                "a1526a3dbe41bf25"
            ]
        ]
    },
    {
        "id": "2aeafe1292713bbd",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "field",
                "pt": "msg",
                "to": "{\"index\":6,\"isdegree\":true}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 520,
        "wires": [
            [
                "9dde1335b98d9878"
            ]
        ]
    },
    {
        "id": "db0f538a782bdf4d",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "field",
                "pt": "msg",
                "to": "{\"index\":16,\"isdegree\":false}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 960,
        "wires": [
            [
                "9dde1335b98d9878"
            ]
        ]
    },
    {
        "id": "72e2cf8c8c816723",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "field",
                "pt": "msg",
                "to": "{\"index\":17,\"isdegree\":false}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 1000,
        "wires": [
            [
                "9dde1335b98d9878"
            ]
        ]
    },
    {
        "id": "868b8d3b9b4c84f6",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "field",
                "pt": "msg",
                "to": "{\"index\":7,\"isdegree\":true}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 580,
        "wires": [
            [
                "9dde1335b98d9878"
            ]
        ]
    },
    {
        "id": "b9148216e948bdb9",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "field",
                "pt": "msg",
                "to": "{\"index\":8,\"isdegree\":true}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 620,
        "wires": [
            [
                "9dde1335b98d9878"
            ]
        ]
    },
    {
        "id": "016dfbb4984307e2",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "field",
                "pt": "msg",
                "to": "{\"index\":9,\"isdegree\":true}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 660,
        "wires": [
            [
                "9dde1335b98d9878"
            ]
        ]
    },
    {
        "id": "27b40aac95c60682",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get Joint Position",
        "func": "var joint_states = flow.get(\"joint_states\");\nmsg.payload = (joint_states.position[11] / (Math.PI / 180)).toFixed(1);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 740,
        "wires": [
            [
                "3021a46e9ae4f209"
            ]
        ]
    },
    {
        "id": "32281e9ea83414dc",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get Joint Position",
        "func": "var joint_states = flow.get(\"joint_states\");\nmsg.payload = (joint_states.position[10] / (Math.PI / 180)).toFixed(0);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 700,
        "wires": [
            [
                "419e24b9d700cdb6"
            ]
        ]
    },
    {
        "id": "133f093376592dc6",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get Joint Position",
        "func": "var joint_states = flow.get(\"joint_states\");\nmsg.payload = (joint_states.position[12] / (Math.PI / 180)).toFixed(0);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 780,
        "wires": [
            [
                "40fa1dd05eb1022f"
            ]
        ]
    },
    {
        "id": "bb4a3a5a0e639b77",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get Joint Position",
        "func": "var joint_states = flow.get(\"joint_states\");\nmsg.payload = (joint_states.position[13] / (Math.PI / 180)).toFixed(0);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 820,
        "wires": [
            [
                "b84384aa138b3b48"
            ]
        ]
    },
    {
        "id": "b887f9a3c9d8a053",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get Joint Position",
        "func": "var joint_states = flow.get(\"joint_states\");\nmsg.payload = joint_states.position[14];\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 880,
        "wires": [
            [
                "4a8cf079baf45a95",
                "370e8c0782164b14"
            ]
        ]
    },
    {
        "id": "ad9e845ce94da8da",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get Joint Position",
        "func": "var joint_states = flow.get(\"joint_states\");\nmsg.payload = (joint_states.position[17] / (Math.PI / 180)).toFixed(0);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "1fcca9d8eee605a5",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "field",
                "pt": "msg",
                "to": "{\"index\":10,\"isdegree\":true}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 700,
        "wires": [
            [
                "9dde1335b98d9878"
            ]
        ]
    },
    {
        "id": "ac239abf0dec3668",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "field",
                "pt": "msg",
                "to": "{\"index\":11,\"isdegree\":true}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 740,
        "wires": [
            [
                "9dde1335b98d9878"
            ]
        ]
    },
    {
        "id": "23b10fcc8a366edf",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "field",
                "pt": "msg",
                "to": "{\"index\":12,\"isdegree\":true}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 780,
        "wires": [
            [
                "9dde1335b98d9878"
            ]
        ]
    },
    {
        "id": "9b0bfa0ac9113d6b",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "field",
                "pt": "msg",
                "to": "{\"index\":13,\"isdegree\":true}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 820,
        "wires": [
            [
                "9dde1335b98d9878"
            ]
        ]
    },
    {
        "id": "651a0e383f0a01fe",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "field",
                "pt": "msg",
                "to": "{\"index\":14,\"isdegree\":false}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 880,
        "wires": [
            [
                "9dde1335b98d9878"
            ]
        ]
    },
    {
        "id": "e26445a33fd31094",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "field",
                "pt": "msg",
                "to": "{\"index\":15,\"isdegree\":false}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 920,
        "wires": [
            [
                "9dde1335b98d9878"
            ]
        ]
    },
    {
        "id": "4a8cf079baf45a95",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "24c4815848824551",
        "name": "",
        "label": "gripper_r_joint",
        "tooltip": "",
        "order": 29,
        "width": "0",
        "height": "0",
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": 0,
        "max": "0.025",
        "step": "0.002",
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 860,
        "y": 880,
        "wires": [
            [
                "651a0e383f0a01fe",
                "e26445a33fd31094"
            ]
        ]
    },
    {
        "id": "f6052d73ed8a9e5e",
        "type": "ui-button",
        "z": "c68dc494590553a0",
        "group": "24c4815848824551",
        "name": "",
        "label": "Joint Command",
        "order": 37,
        "width": 0,
        "height": 0,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 320,
        "y": 1880,
        "wires": [
            [
                "84d841b6d940edc9"
            ]
        ]
    },
    {
        "id": "5c3fda63d6aa6dc0",
        "type": "ui-switch",
        "z": "c68dc494590553a0",
        "name": "",
        "label": "EXECUTE",
        "group": "1a9c1a14e1ddeeed",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": false,
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "className": "",
        "layout": "row-spread",
        "clickableArea": "switch",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 910,
        "y": 2140,
        "wires": [
            [
                "7a8592945dd146ac"
            ]
        ]
    },
    {
        "id": "cc21321e1e061fee",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "24c4815848824551",
        "name": "yumi_l_1_joint",
        "label": "yumi_l_1_joint",
        "tooltip": "",
        "order": 15,
        "width": "0",
        "height": "0",
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "-168",
        "max": "168",
        "step": 1,
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 860,
        "y": 580,
        "wires": [
            [
                "868b8d3b9b4c84f6"
            ]
        ]
    },
    {
        "id": "a1526a3dbe41bf25",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "24c4815848824551",
        "name": "yumi_l_7_joint",
        "label": "yumi_l_7_joint",
        "tooltip": "",
        "order": 27,
        "width": "0",
        "height": "0",
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "-168",
        "max": "168",
        "step": 1,
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 860,
        "y": 660,
        "wires": [
            [
                "016dfbb4984307e2"
            ]
        ]
    },
    {
        "id": "3021a46e9ae4f209",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "24c4815848824551",
        "name": "yumi_l_4_joint",
        "label": "yumi_l_4_joint",
        "tooltip": "",
        "order": 21,
        "width": "0",
        "height": "0",
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "-290",
        "max": "290",
        "step": 1,
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 860,
        "y": 740,
        "wires": [
            [
                "ac239abf0dec3668"
            ]
        ]
    },
    {
        "id": "b84384aa138b3b48",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "24c4815848824551",
        "name": "yumi_l_6_joint",
        "label": "yumi_l_6_joint",
        "tooltip": "",
        "order": 25,
        "width": "0",
        "height": "0",
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "-229",
        "max": "229",
        "step": 1,
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 860,
        "y": 820,
        "wires": [
            [
                "9b0bfa0ac9113d6b"
            ]
        ]
    },
    {
        "id": "419e24b9d700cdb6",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "24c4815848824551",
        "name": "yumi_l_3_joint",
        "label": "yumi_l_3_joint",
        "tooltip": "",
        "order": 19,
        "width": "0",
        "height": "0",
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "-123",
        "max": "80",
        "step": 1,
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 860,
        "y": 700,
        "wires": [
            [
                "1fcca9d8eee605a5"
            ]
        ]
    },
    {
        "id": "f34ffe307001f09d",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "24c4815848824551",
        "name": "yumi_l_2_joint",
        "label": "yumi_l_2_joint",
        "tooltip": "",
        "order": 17,
        "width": "0",
        "height": "0",
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "-143",
        "max": "44",
        "step": 1,
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 860,
        "y": 620,
        "wires": [
            [
                "b9148216e948bdb9"
            ]
        ]
    },
    {
        "id": "40fa1dd05eb1022f",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "24c4815848824551",
        "name": "yumi_l_5_joint",
        "label": "yumi_l_5_joint",
        "tooltip": "",
        "order": 23,
        "width": "0",
        "height": "0",
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "-88",
        "max": "138",
        "step": 1,
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 860,
        "y": 780,
        "wires": [
            [
                "23b10fcc8a366edf"
            ]
        ]
    },
    {
        "id": "77c6ba14bbe8ae60",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "24c4815848824551",
        "name": "yumi_r_1_joint",
        "label": "yumi_r_1_joint",
        "tooltip": "",
        "order": 1,
        "width": "0",
        "height": "0",
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "-168",
        "max": "168",
        "step": 1,
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 860,
        "y": 280,
        "wires": [
            [
                "7cf55e3140f10d1c"
            ]
        ]
    },
    {
        "id": "ea7e44fc7037e6f0",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "24c4815848824551",
        "name": "yumi_r_7_joint",
        "label": "yumi_r_7_joint",
        "tooltip": "",
        "order": 13,
        "width": "0",
        "height": "0",
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "-168",
        "max": "168",
        "step": 1,
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 860,
        "y": 360,
        "wires": [
            [
                "e51b497a122435dd"
            ]
        ]
    },
    {
        "id": "4d247e3817c0105a",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "24c4815848824551",
        "name": "yumi_r_4_joint",
        "label": "yumi_r_4_joint",
        "tooltip": "",
        "order": 7,
        "width": "0",
        "height": "0",
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "-290",
        "max": "290",
        "step": 1,
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 860,
        "y": 440,
        "wires": [
            [
                "03968ec10cec0154"
            ]
        ]
    },
    {
        "id": "830d6451ac2bec49",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "24c4815848824551",
        "name": "yumi_r_6_joint",
        "label": "yumi_r_6_joint",
        "tooltip": "",
        "order": 11,
        "width": "0",
        "height": "0",
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "-229",
        "max": "229",
        "step": 1,
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 860,
        "y": 520,
        "wires": [
            [
                "2aeafe1292713bbd"
            ]
        ]
    },
    {
        "id": "ed964fe3d6810bc8",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "24c4815848824551",
        "name": "yumi_r_3_joint",
        "label": "yumi_r_3_joint",
        "tooltip": "",
        "order": 5,
        "width": "0",
        "height": "0",
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "-123",
        "max": "80",
        "step": 1,
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 860,
        "y": 400,
        "wires": [
            [
                "62d7fca21d36de2a"
            ]
        ]
    },
    {
        "id": "99f57ace925f0857",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "24c4815848824551",
        "name": "yumi_r_2_joint",
        "label": "yumi_r_2_joint",
        "tooltip": "",
        "order": 3,
        "width": "0",
        "height": "0",
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "-143",
        "max": "44",
        "step": 1,
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 860,
        "y": 320,
        "wires": [
            [
                "22c969d557a34dc4"
            ]
        ]
    },
    {
        "id": "acd9796f675f0a5b",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "24c4815848824551",
        "name": "yumi_r_5_joint",
        "label": "yumi_r_5_joint",
        "tooltip": "",
        "order": 9,
        "width": "0",
        "height": "0",
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "-88",
        "max": "138",
        "step": 1,
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 860,
        "y": 480,
        "wires": [
            [
                "2df8be83c8c0efe0"
            ]
        ]
    },
    {
        "id": "0ac449ef8a83a973",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "24c4815848824551",
        "order": 2,
        "width": "2",
        "height": "1",
        "name": "yumi_r_1_joint",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 780,
        "y": 1100,
        "wires": []
    },
    {
        "id": "30c1ee7033abc55c",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "24c4815848824551",
        "order": 4,
        "width": "2",
        "height": "1",
        "name": "yumi_r_2_joint",
        "label": "text",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 780,
        "y": 1140,
        "wires": []
    },
    {
        "id": "2e3faac0f6c3d1fb",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "24c4815848824551",
        "order": 14,
        "width": "2",
        "height": "1",
        "name": "yumi_r_7_joint",
        "label": "text",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 780,
        "y": 1180,
        "wires": []
    },
    {
        "id": "49486f8d9c118f63",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "24c4815848824551",
        "order": 6,
        "width": "2",
        "height": "1",
        "name": "yumi_r_3_joint",
        "label": "text",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 780,
        "y": 1220,
        "wires": []
    },
    {
        "id": "0f72401b33a98140",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "24c4815848824551",
        "order": 10,
        "width": "2",
        "height": "1",
        "name": "yumi_r_5_joint",
        "label": "text",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 780,
        "y": 1300,
        "wires": []
    },
    {
        "id": "9d17dee7b493e6bc",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "24c4815848824551",
        "order": 8,
        "width": "2",
        "height": "1",
        "name": "yumi_r_4_joint",
        "label": "text",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 780,
        "y": 1260,
        "wires": []
    },
    {
        "id": "d83b799dd25eba09",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "24c4815848824551",
        "order": 12,
        "width": "2",
        "height": "1",
        "name": "yumi_r_6_joint",
        "label": "text",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 780,
        "y": 1340,
        "wires": []
    },
    {
        "id": "d8b192f473e1dc74",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "24c4815848824551",
        "order": 18,
        "width": "2",
        "height": "1",
        "name": "yumi_l_2_joint",
        "label": "text",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 780,
        "y": 1420,
        "wires": []
    },
    {
        "id": "c022e85d4b4849bf",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "24c4815848824551",
        "order": 16,
        "width": "2",
        "height": "1",
        "name": "yumi_l_1_joint",
        "label": "text",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 780,
        "y": 1380,
        "wires": []
    },
    {
        "id": "8aedf2e7c52c3723",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "24c4815848824551",
        "order": 28,
        "width": "2",
        "height": "1",
        "name": "yumi_l_7_joint",
        "label": "text",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 780,
        "y": 1480,
        "wires": []
    },
    {
        "id": "8febb970973e74f3",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "24c4815848824551",
        "order": 20,
        "width": "2",
        "height": "1",
        "name": "yumi_l_3_joint",
        "label": "text",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 780,
        "y": 1520,
        "wires": []
    },
    {
        "id": "ea4d378dde18397d",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "24c4815848824551",
        "order": 22,
        "width": "2",
        "height": "1",
        "name": "yumi_l_4_joint",
        "label": "text",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 780,
        "y": 1560,
        "wires": []
    },
    {
        "id": "15b77b9ff2bb9e89",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "24c4815848824551",
        "order": 24,
        "width": "2",
        "height": "1",
        "name": "yumi_l_5_joint",
        "label": "text",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 780,
        "y": 1600,
        "wires": []
    },
    {
        "id": "ef54df41b753b2a0",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "24c4815848824551",
        "order": 26,
        "width": "2",
        "height": "1",
        "name": "yumi_l_6_joint",
        "label": "text",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 780,
        "y": 1640,
        "wires": []
    },
    {
        "id": "d1eea1d0b2fe15af",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "24c4815848824551",
        "order": 30,
        "width": "2",
        "height": "1",
        "name": "gripper_r_joint",
        "label": "text",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 780,
        "y": 1700,
        "wires": []
    },
    {
        "id": "8af72d50ca4226d3",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "24c4815848824551",
        "order": 32,
        "width": "2",
        "height": "1",
        "name": "gripper_r_joint_m",
        "label": "text",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 790,
        "y": 1740,
        "wires": []
    },
    {
        "id": "de43208e455a3a9d",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "24c4815848824551",
        "order": 34,
        "width": "2",
        "height": "1",
        "name": "gripper_l_joint",
        "label": "text",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 780,
        "y": 1780,
        "wires": []
    },
    {
        "id": "7da35fe640b2e13b",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "24c4815848824551",
        "order": 36,
        "width": "2",
        "height": "1",
        "name": "gripper_l_joint_m",
        "label": "text",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 790,
        "y": 1820,
        "wires": []
    },
    {
        "id": "84d841b6d940edc9",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Setup joint_states ROS message",
        "func": "msg.payload = flow.get( \"joint_states\")\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 800,
        "y": 1880,
        "wires": [
            [
                "be30d4fc45be1938"
            ]
        ]
    },
    {
        "id": "5bc2eb9685f1efa8",
        "type": "ui-button",
        "z": "c68dc494590553a0",
        "group": "89bbbc2824d7a4c3",
        "name": "",
        "label": "Send Pose Command",
        "order": 2,
        "width": 0,
        "height": 0,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 340,
        "y": 2240,
        "wires": [
            [
                "360bbf993cca772e"
            ]
        ]
    },
    {
        "id": "a44841e0d546d354",
        "type": "ui-button",
        "z": "c68dc494590553a0",
        "group": "89bbbc2824d7a4c3",
        "name": "",
        "label": "Send Joint Command",
        "order": 1,
        "width": 0,
        "height": 0,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 340,
        "y": 2440,
        "wires": [
            [
                "cb950b5381b5d208"
            ]
        ]
    },
    {
        "id": "7ca11e996120efce",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "753f34d0c1ed001e",
        "name": "",
        "label": "Position X",
        "tooltip": "",
        "order": 1,
        "width": "0",
        "height": "0",
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "-1",
        "max": "1",
        "step": "0.01",
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 1100,
        "y": 2560,
        "wires": [
            [
                "22131226336eafe0"
            ]
        ]
    },
    {
        "id": "f67fb5b2b1e7ad95",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "753f34d0c1ed001e",
        "order": 2,
        "width": "2",
        "height": "1",
        "name": "Position X",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 1120,
        "y": 2840,
        "wires": []
    },
    {
        "id": "6e24f6f034bbdc56",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "753f34d0c1ed001e",
        "order": 4,
        "width": "2",
        "height": "1",
        "name": "Position Y",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 1120,
        "y": 2880,
        "wires": []
    },
    {
        "id": "1e8dae35250601a3",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "753f34d0c1ed001e",
        "order": 10,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Position Z",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 1120,
        "y": 2920,
        "wires": []
    },
    {
        "id": "57e1817e73d66529",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "753f34d0c1ed001e",
        "name": "",
        "label": "Position Y",
        "tooltip": "",
        "order": 3,
        "width": "6",
        "height": "1",
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "-1",
        "max": "1",
        "step": "0.01",
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 1100,
        "y": 2600,
        "wires": [
            [
                "5f25d729c4402639"
            ]
        ]
    },
    {
        "id": "95a6b14da7c7e65a",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "753f34d0c1ed001e",
        "name": "",
        "label": "Position Z",
        "tooltip": "",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "-1",
        "max": "1",
        "step": "0.01",
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 1100,
        "y": 2640,
        "wires": [
            [
                "2ffa480819d25e73"
            ]
        ]
    },
    {
        "id": "79def986eaabc751",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "753f34d0c1ed001e",
        "name": "",
        "label": "Position Roll",
        "tooltip": "",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "-180",
        "max": "180",
        "step": "1",
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 1090,
        "y": 2680,
        "wires": [
            [
                "58c63ddbd05e5d01"
            ]
        ]
    },
    {
        "id": "a0d01cd6bcb2580d",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "753f34d0c1ed001e",
        "name": "",
        "label": "Position Pitch",
        "tooltip": "",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "-180",
        "max": "180",
        "step": "1",
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 1080,
        "y": 2720,
        "wires": [
            [
                "51460c9bb2298661"
            ]
        ]
    },
    {
        "id": "54f5743d3a3d5aab",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "753f34d0c1ed001e",
        "name": "",
        "label": "Position Yaw",
        "tooltip": "",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "-180",
        "max": "180",
        "step": "1",
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 1090,
        "y": 2760,
        "wires": [
            [
                "2f1cfac0197cd849"
            ]
        ]
    },
    {
        "id": "e7baf6bf8f9c99c5",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "753f34d0c1ed001e",
        "order": 11,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Position Roll",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 1110,
        "y": 2960,
        "wires": []
    },
    {
        "id": "0da2b452b694597c",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "753f34d0c1ed001e",
        "order": 12,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Position Pitch",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 1100,
        "y": 3000,
        "wires": []
    },
    {
        "id": "892c7604324b14cf",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "753f34d0c1ed001e",
        "order": 13,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Position Yaw",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 1110,
        "y": 3040,
        "wires": []
    },
    {
        "id": "aa42246c23fae64e",
        "type": "ui-text",
        "z": "c68dc494590553a0",
        "group": "89bbbc2824d7a4c3",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "MoveStatus",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#717171",
        "wrapText": false,
        "className": "",
        "value": "payload",
        "valueType": "msg",
        "x": 2070,
        "y": 2360,
        "wires": []
    },
    {
        "id": "22131226336eafe0",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Update Goal Pose",
        "func": "var goal_pose = flow.get(\"goal_pose\");\n\ngoal_pose.position.x = msg.payload;\n\nflow.set(\"goal_pose\", goal_pose);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1450,
        "y": 2560,
        "wires": [
            [
                "5c9f679e0bdd5e8a"
            ]
        ]
    },
    {
        "id": "5f25d729c4402639",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Update Goal Pose",
        "func": "var goal_pose = flow.get(\"goal_pose\");\n\ngoal_pose.position.y = msg.payload;\n\nflow.set(\"goal_pose\", goal_pose);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1450,
        "y": 2600,
        "wires": [
            [
                "5c9f679e0bdd5e8a"
            ]
        ]
    },
    {
        "id": "2ffa480819d25e73",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Update Goal Pose",
        "func": "var goal_pose = flow.get(\"goal_pose\");\n\ngoal_pose.position.z = msg.payload;\n\nflow.set(\"goal_pose\", goal_pose);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1450,
        "y": 2640,
        "wires": [
            [
                "5c9f679e0bdd5e8a"
            ]
        ]
    },
    {
        "id": "58c63ddbd05e5d01",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Update Goal Pose",
        "func": "var goal_pose = flow.get(\"goal_pose\");\n\ngoal_pose.orientation.roll = msg.payload;\n\nflow.set(\"goal_pose\", goal_pose);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1450,
        "y": 2680,
        "wires": [
            [
                "5c9f679e0bdd5e8a"
            ]
        ]
    },
    {
        "id": "51460c9bb2298661",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Update Goal Pose",
        "func": "var goal_pose = flow.get(\"goal_pose\");\n\ngoal_pose.orientation.pitch = msg.payload;\n\nflow.set(\"goal_pose\", goal_pose);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1450,
        "y": 2720,
        "wires": [
            [
                "5c9f679e0bdd5e8a"
            ]
        ]
    },
    {
        "id": "2f1cfac0197cd849",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Update Goal Pose",
        "func": "var goal_pose = flow.get(\"goal_pose\");\n\ngoal_pose.orientation.yaw = msg.payload;\n\nflow.set(\"goal_pose\", goal_pose);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1450,
        "y": 2760,
        "wires": [
            [
                "5c9f679e0bdd5e8a"
            ]
        ]
    },
    {
        "id": "be30d4fc45be1938",
        "type": "ros-publish",
        "z": "c68dc494590553a0",
        "server": "4bf02018241b669e",
        "topicname": "/joint_command",
        "msgtype": "sensor_msgs/JointState",
        "x": 1200,
        "y": 1880,
        "wires": []
    },
    {
        "id": "6fdc81351696be23",
        "type": "ui-button",
        "z": "c68dc494590553a0",
        "group": "753f34d0c1ed001e",
        "name": "",
        "label": "Pose Command",
        "order": 9,
        "width": 0,
        "height": 0,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 320,
        "y": 3140,
        "wires": [
            [
                "fda85bbb51362440"
            ]
        ]
    },
    {
        "id": "614095fe8b8c842c",
        "type": "ros-publish",
        "z": "c68dc494590553a0",
        "server": "4bf02018241b669e",
        "topicname": "/pose_command",
        "msgtype": "geometry_msgs/Pose",
        "x": 1470,
        "y": 3220,
        "wires": []
    },
    {
        "id": "2e9ffceebb048a17",
        "type": "debug",
        "z": "c68dc494590553a0",
        "name": "GOAL POSE STAMPED Position",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload.pose.position",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1810,
        "y": 3100,
        "wires": []
    },
    {
        "id": "fda85bbb51362440",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Convert Pose",
        "func": "function rpyToQuaternion(rpy) {\n  \n  // Convert half angles\n  const cy = Math.cos(rpy.yaw * (Math.PI / 180) * 0.5);\n  const sy = Math.sin(rpy.yaw * (Math.PI / 180) * 0.5);\n  const cp = Math.cos(rpy.pitch * (Math.PI / 180) * 0.5);\n  const sp = Math.sin(rpy.pitch * (Math.PI / 180) * 0.5);\n  const cr = Math.cos(rpy.roll * (Math.PI / 180) * 0.5);\n  const sr = Math.sin(rpy.roll * (Math.PI / 180) * 0.5);\n\n  const q = {\n    x: sr * cp * cy - cr * sp * sy,\n    y: cr * sp * cy + sr * cp * sy,\n    z: cr * cp * sy - sr * sp * cy,\n    w: cr * cp * cy + sr * sp * sy\n  };\n\n  return q;\n}\n\nvar goal_pose = flow.get(\"goal_pose\");\n\n\nmsg.payload = { \n    position : goal_pose.position,\n    orientation: rpyToQuaternion(goal_pose.orientation)\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 3140,
        "wires": [
            [
                "29b4ec8d2a43709e"
            ]
        ]
    },
    {
        "id": "4d85b8f63bb502f8",
        "type": "ui-button",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "e2828d41d9660087",
        "name": "",
        "label": "REDBOARD PATH NEXT",
        "order": 8,
        "width": 0,
        "height": 0,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 350,
        "y": 3380,
        "wires": [
            [
                "6e7d164510f08093"
            ]
        ]
    },
    {
        "id": "c7652eb8a569e83e",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Convert Pose",
        "func": "function rpyToQuaternion(rpy) {\n  \n  // Convert half angles\n  const cy = Math.cos(rpy.yaw * (Math.PI / 180) * 0.5);\n  const sy = Math.sin(rpy.yaw * (Math.PI / 180) * 0.5);\n  const cp = Math.cos(rpy.pitch * (Math.PI / 180) * 0.5);\n  const sp = Math.sin(rpy.pitch * (Math.PI / 180) * 0.5);\n  const cr = Math.cos(rpy.roll * (Math.PI / 180) * 0.5);\n  const sr = Math.sin(rpy.roll * (Math.PI / 180) * 0.5);\n\n  const q = {\n    x: sr * cp * cy - cr * sp * sy,\n    y: cr * sp * cy + sr * cp * sy,\n    z: cr * cp * sy - sr * sp * cy,\n    w: cr * cp * cy + sr * sp * sy\n  };\n\n  return q;\n}\n\nvar goal_pose = JSON.parse(JSON.stringify(flow.get(\"goal_redboard_pose\")));\n\nvar spl_path_index = JSON.parse(JSON.stringify(flow.get(\"spl_path_index\")));\n\ngoal_pose.position.x += 0.14*(Math.floor(spl_path_index / 2) % 4)\n\ngoal_pose.position.y += (0.15*(( Math.floor(spl_path_index / 8)) %2) )\n\ngoal_pose.position.z += (0.15*(spl_path_index %2))\n\n\nflow.set(\"spl_path_index\", ++spl_path_index);\n\nmsg.payload = {\n    position : goal_pose.position,\n    orientation: rpyToQuaternion(goal_pose.orientation)\n  }\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 3380,
        "wires": [
            [
                "8ebb580cc2585ec8"
            ]
        ]
    },
    {
        "id": "6e7d164510f08093",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "goal_pose",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 3380,
        "wires": [
            [
                "c7652eb8a569e83e"
            ]
        ]
    },
    {
        "id": "370e8c0782164b14",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "24c4815848824551",
        "name": "",
        "label": "gripper_r_joint_m",
        "tooltip": "",
        "order": 31,
        "width": "0",
        "height": "0",
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": 0,
        "max": 10,
        "step": 1,
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 870,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "811e45e1d1fc3d49",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "24c4815848824551",
        "name": "",
        "label": "gripper_l_joint_m",
        "tooltip": "",
        "order": 35,
        "width": "0",
        "height": "0",
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": 0,
        "max": 10,
        "step": 1,
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 870,
        "y": 1000,
        "wires": [
            []
        ]
    },
    {
        "id": "2ad791853f879c84",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "24c4815848824551",
        "name": "",
        "label": "gripper_l_joint",
        "tooltip": "",
        "order": 33,
        "width": "0",
        "height": "0",
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": 0,
        "max": "0.025",
        "step": "0.002",
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 860,
        "y": 960,
        "wires": [
            [
                "db0f538a782bdf4d",
                "72e2cf8c8c816723"
            ]
        ]
    },
    {
        "id": "f2baabc5826db83b",
        "type": "ui-button",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "e2828d41d9660087",
        "name": "",
        "label": "EUROCONTAINER PATH NEXT",
        "order": 6,
        "width": 0,
        "height": 0,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 370,
        "y": 3440,
        "wires": [
            [
                "747c684e73ee42e2"
            ]
        ]
    },
    {
        "id": "53b5bb26fbe18f1f",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Convert Pose",
        "func": "function rpyToQuaternion(rpy) {\n  \n  // Convert half angles\n  const cy = Math.cos(rpy.yaw * (Math.PI / 180) * 0.5);\n  const sy = Math.sin(rpy.yaw * (Math.PI / 180) * 0.5);\n  const cp = Math.cos(rpy.pitch * (Math.PI / 180) * 0.5);\n  const sp = Math.sin(rpy.pitch * (Math.PI / 180) * 0.5);\n  const cr = Math.cos(rpy.roll * (Math.PI / 180) * 0.5);\n  const sr = Math.sin(rpy.roll * (Math.PI / 180) * 0.5);\n\n  const q = {\n    x: sr * cp * cy - cr * sp * sy,\n    y: cr * sp * cy + sr * cp * sy,\n    z: cr * cp * sy - sr * sp * cy,\n    w: cr * cp * cy + sr * sp * sy\n  };\n\n  return q;\n}\n\nvar goal_pose = JSON.parse(JSON.stringify(flow.get(\"spl_container_pose\")));\n\nvar spl_container_path_index = JSON.parse(JSON.stringify(flow.get(\"spl_container_path_index\")));\n\n//goal_pose.position.y += 0.2 * (Math.floor(spl_container_path_index / 2) % 2)\n\n//goal_pose.position.z += (0.2 * (spl_container_path_index % 2))\n\n//goal_pose.orientation.yaw += ((Math.floor(spl_container_path_index / 2) % 2) * 180)\n\n//node.warn(goal_pose.orientation)\n\ngoal_pose.position.y += 0.02 * (Math.floor(spl_container_path_index / 2) % 5)\n\ngoal_pose.position.z += (0.15 * (spl_container_path_index % 2))\n\n//goal_pose.position.z += 0.025 * (Math.floor(spl_container_path_index / 2) % 5)\n\ngoal_pose.position.x += 0.0856* (Math.floor(spl_container_path_index / 10) % 2)\n\nflow.set(\"spl_container_path_index\", ++spl_container_path_index);\n\nmsg.payload = {\n    position : goal_pose.position,\n    orientation: rpyToQuaternion(goal_pose.orientation)\n  }\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 900,
        "y": 3440,
        "wires": [
            [
                "8ebb580cc2585ec8"
            ]
        ]
    },
    {
        "id": "747c684e73ee42e2",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "spl_container_pose",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 3440,
        "wires": [
            [
                "53b5bb26fbe18f1f"
            ]
        ]
    },
    {
        "id": "9e37c2a9b0ba5c05",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "e2828d41d9660087",
        "name": "",
        "label": "Eurocontainer steps",
        "tooltip": "",
        "order": 5,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": 0,
        "max": "40",
        "step": 1,
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 920,
        "y": 3540,
        "wires": [
            [
                "56c4f2ec49e7816d"
            ]
        ]
    },
    {
        "id": "6f55175c906e2c56",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "d": true,
        "group": "e2828d41d9660087",
        "name": "",
        "label": "Redboard steps",
        "tooltip": "",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": 0,
        "max": "16",
        "step": 1,
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 900,
        "y": 3600,
        "wires": [
            [
                "d4d1d70c2ab329a9"
            ]
        ]
    },
    {
        "id": "56c4f2ec49e7816d",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "spl_container_path_index",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1240,
        "y": 3540,
        "wires": [
            []
        ]
    },
    {
        "id": "d4d1d70c2ab329a9",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "spl_path_index",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1210,
        "y": 3600,
        "wires": [
            []
        ]
    },
    {
        "id": "98bab3db94280312",
        "type": "link in",
        "z": "c68dc494590553a0",
        "name": "DASH SPL EC SLIDER STARTUP",
        "links": [
            "33d2be3aab688dd7",
            "8ebb580cc2585ec8"
        ],
        "x": 370,
        "y": 3540,
        "wires": [
            [
                "21246896419d80f3"
            ]
        ],
        "l": true
    },
    {
        "id": "f1eb1c6364412642",
        "type": "link in",
        "z": "c68dc494590553a0",
        "name": "DASH SPL RB SLIDER STARTUP",
        "links": [
            "33d2be3aab688dd7",
            "8ebb580cc2585ec8"
        ],
        "x": 370,
        "y": 3600,
        "wires": [
            [
                "9d28bd48520caa14"
            ]
        ],
        "l": true
    },
    {
        "id": "21246896419d80f3",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "spl_container_path_index",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 3540,
        "wires": [
            [
                "9e37c2a9b0ba5c05"
            ]
        ]
    },
    {
        "id": "9d28bd48520caa14",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "spl_path_index",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 3600,
        "wires": [
            [
                "6f55175c906e2c56"
            ]
        ]
    },
    {
        "id": "8ebb580cc2585ec8",
        "type": "link out",
        "z": "c68dc494590553a0",
        "name": "DASH POSE Update",
        "mode": "link",
        "links": [
            "98bab3db94280312",
            "f1eb1c6364412642",
            "04d95265e2ebf6bd"
        ],
        "x": 1140,
        "y": 3400,
        "wires": [],
        "l": true
    },
    {
        "id": "d8204cfc51b309ae",
        "type": "ui-button",
        "z": "c68dc494590553a0",
        "group": "e2828d41d9660087",
        "name": "",
        "label": "PRODUCTION PATH NEXT",
        "order": 9,
        "width": 0,
        "height": 0,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 360,
        "y": 3840,
        "wires": [
            [
                "3df82e76dd7be938"
            ]
        ]
    },
    {
        "id": "cb98cc1972974fda",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Get Start and End Poses",
        "func": "var poses = [];\nvar object_poses = JSON.parse(JSON.stringify(flow.get(\"object_poses\")));\n\nvar offset_eurocontainer_spl_slot = flow.get(\"offset_eurocontainer_spl_slot\");\n\nvar sumPositionOffset = global.get(\"sumPositionOffset\");\n\nswitch (msg.payload.action) {\n  case 1: {\n    object_poses.forEach(function(element) {\n      if (element.name == (\"station/leftarm/position/eurocontainer0\"+ msg.payload.slots[0] )) {\n          poses.push(element);\n          //node.warn(\"BEFORE ::: \" + JSON.stringify(poses.at(-1).pose.pose.position));\n          poses.at(-1).pose.pose.position.x += (offset_eurocontainer_spl_slot.position.x * ((Math.floor(msg.payload.slots[1] / 5)) % 2));\n          poses.at(-1).pose.pose.position.y += (offset_eurocontainer_spl_slot.position.y * (msg.payload.slots[1] % 5));\n          //node.warn(\"AFTER ::: \" + JSON.stringify(poses.at(-1).pose.pose.position));\n      }\n    });\n\n    object_poses.forEach(function(element) {\n      if (element.name == (\"leftarm/position/redboard_0\"+ msg.payload.slots[2] )) {\n          poses.push(element)\n      }\n    });\n  }\n  break;\n  case 2: {\n\n    object_poses.forEach(function (element) {\n      if (element.name == (\"leftarm/position/redboard_0\" + msg.payload.slots[0])) {\n        poses.push(element)\n      }\n    });\n    object_poses.forEach(function(element) {\n      if (element.name == (\"station/leftarm/position/eurocontainer0\"+ msg.payload.slots[1] )) {\n          poses.push(element);\n          //node.warn(\"BEFORE ::: \" + JSON.stringify(poses.at(-1).pose.pose.position));\n          poses.at(-1).pose.pose.position.x += (offset_eurocontainer_spl_slot.position.x * ((Math.floor(msg.payload.slots[2] / 5)) % 2));\n          poses.at(-1).pose.pose.position.y += (offset_eurocontainer_spl_slot.position.y * (msg.payload.slots[2] % 5));\n          //node.warn(\"AFTER ::: \" + JSON.stringify(poses.at(-1).pose.pose.position));\n      }\n    });\n\n  }\n  break;\n}\n\nmsg.payload.poses = poses;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 930,
        "y": 4000,
        "wires": [
            [
                "2163e056d1211a2b",
                "d8d33aa5a3247056"
            ]
        ]
    },
    {
        "id": "0142dc90ad47b764",
        "type": "link in",
        "z": "c68dc494590553a0",
        "name": "PROCESS OBJECT ROS",
        "links": [
            "07f5c1e7ddfffa40"
        ],
        "x": 350,
        "y": 3760,
        "wires": [
            [
                "d2b310a6bb0fdc3f"
            ]
        ],
        "l": true
    },
    {
        "id": "d2b310a6bb0fdc3f",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "object_poses",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 3760,
        "wires": [
            []
        ]
    },
    {
        "id": "2163e056d1211a2b",
        "type": "debug",
        "z": "c68dc494590553a0",
        "name": "debug 19",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1180,
        "y": 3960,
        "wires": []
    },
    {
        "id": "d8d33aa5a3247056",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Create Production Path",
        "func": "var offset_eurocontainer_slot = flow.get(\"offset_eurocontainer_slot\");\nvar offset_redboard = flow.get(\"offset_redboard\");\nvar approach_container = flow.get(\"container_approach\");\nvar approach_redboard = flow.get(\"redboard_approach\");\n\nvar sumPositionOffset = global.get(\"sumPositionOffset\");\n\nvar final_poses = []\n\nswitch (msg.payload.action) {\n  case 1: {\n    var temp_pose = JSON.parse(JSON.stringify(msg.payload.poses[0].pose));\n    temp_pose.pose.orientation = JSON.parse(JSON.stringify(approach_container.orientation));\n    //node.warn(\"START POSE : \" + JSON.stringify(temp_pose.pose.orientation));\n    final_poses.push(sumPositionOffset(sumPositionOffset(temp_pose, offset_eurocontainer_slot), approach_container));\n    final_poses.push(sumPositionOffset(temp_pose, offset_eurocontainer_slot));\n    final_poses.push(sumPositionOffset(sumPositionOffset(temp_pose, offset_eurocontainer_slot), approach_container));\n\n    temp_pose = JSON.parse(JSON.stringify(msg.payload.poses[1].pose));\n    temp_pose.pose.orientation = JSON.parse(JSON.stringify(approach_redboard.orientation));\n    //node.warn(\"END POSE : \" + JSON.stringify(temp_pose.pose.orientation));\n    final_poses.push(sumPositionOffset(sumPositionOffset(temp_pose, offset_redboard), approach_redboard));\n    final_poses.push(sumPositionOffset(temp_pose, offset_redboard));\n    final_poses.push(sumPositionOffset(sumPositionOffset(temp_pose, offset_redboard), approach_redboard));\n  }\n  break;    \n\n\n  case 2: {\n    temp_pose = JSON.parse(JSON.stringify(msg.payload.poses[0].pose));\n    temp_pose.pose.orientation = JSON.parse(JSON.stringify(approach_redboard.orientation));\n    //node.warn(\"START POSE : \" + JSON.stringify(temp_pose.pose.orientation));\n    final_poses.push(sumPositionOffset(sumPositionOffset(temp_pose, offset_redboard), approach_redboard));\n    final_poses.push(sumPositionOffset(temp_pose, offset_redboard));\n    final_poses.push(sumPositionOffset(sumPositionOffset(temp_pose, offset_redboard), approach_redboard));\n    \n    var temp_pose = JSON.parse(JSON.stringify(msg.payload.poses[1].pose));\n    temp_pose.pose.orientation = JSON.parse(JSON.stringify(approach_container.orientation));\n    //node.warn(\"END POSE : \" + JSON.stringify(temp_pose.pose.orientation));\n    final_poses.push(sumPositionOffset(sumPositionOffset(temp_pose, offset_eurocontainer_slot), approach_container));\n    final_poses.push(sumPositionOffset(temp_pose, offset_eurocontainer_slot));\n    final_poses.push(sumPositionOffset(sumPositionOffset(temp_pose, offset_eurocontainer_slot), approach_container));\n  }\n  break;    \n}\nmsg.payload=final_poses\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1230,
        "y": 4000,
        "wires": [
            [
                "73a1d3393af99a3e",
                "c114e6e0c0dc83ca"
            ]
        ]
    },
    {
        "id": "73a1d3393af99a3e",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "path",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "spl_production_path_index",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1500,
        "y": 4000,
        "wires": [
            [
                "296b1f32383ddca5"
            ]
        ]
    },
    {
        "id": "0d07a98edfc85c2d",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "e2828d41d9660087",
        "name": "",
        "label": "Pose Path",
        "tooltip": "",
        "order": 11,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "0",
        "max": "5",
        "step": "1",
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": false,
        "x": 870,
        "y": 3920,
        "wires": [
            [
                "c8fd1dfa944e466a"
            ]
        ]
    },
    {
        "id": "3df82e76dd7be938",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Convert Pose",
        "func": "function rpyToQuaternion(rpy) {\n  \n  // Convert half angles\n  const cy = Math.cos(rpy.yaw * (Math.PI / 180) * 0.5);\n  const sy = Math.sin(rpy.yaw * (Math.PI / 180) * 0.5);\n  const cp = Math.cos(rpy.pitch * (Math.PI / 180) * 0.5);\n  const sp = Math.sin(rpy.pitch * (Math.PI / 180) * 0.5);\n  const cr = Math.cos(rpy.roll * (Math.PI / 180) * 0.5);\n  const sr = Math.sin(rpy.roll * (Math.PI / 180) * 0.5);\n\n  const q = {\n    x: sr * cp * cy - cr * sp * sy,\n    y: cr * sp * cy + sr * cp * sy,\n    z: cr * cp * sy - sr * sp * cy,\n    w: cr * cp * cy + sr * sp * sy\n  };\n\n  return q;\n}\n\nvar goal_poses = JSON.parse(JSON.stringify(flow.get(\"path\")));\n\nvar spl_container_path_index = JSON.parse(JSON.stringify(flow.get(\"spl_production_path_index\")));\n\nflow.set(\"spl_production_path_index\", spl_container_path_index + 1);\n\nnode.warn(goal_poses[spl_container_path_index].pose.position);\n\nnode.warn(goal_poses[spl_container_path_index].pose.orientation);\n\nmsg.payload = {\n  position: goal_poses[spl_container_path_index].pose.position,\n  orientation: rpyToQuaternion(goal_poses[spl_container_path_index].pose.orientation)\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 3840,
        "wires": [
            [
                "45fb4e09e9a33b1e",
                "a0067e464c1ea33e"
            ]
        ]
    },
    {
        "id": "c8fd1dfa944e466a",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "spl_production_path_index",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 3920,
        "wires": [
            []
        ]
    },
    {
        "id": "3dc0a1448336a11b",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "spl_production_path_index",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 3920,
        "wires": [
            [
                "0d07a98edfc85c2d"
            ]
        ]
    },
    {
        "id": "8d9d113e86554409",
        "type": "debug",
        "z": "c68dc494590553a0",
        "name": "GOAL POSE",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1450,
        "y": 3180,
        "wires": []
    },
    {
        "id": "a449df471e95ccf4",
        "type": "link in",
        "z": "c68dc494590553a0",
        "name": "DASH PATH POSE STARTUP",
        "links": [
            "33d2be3aab688dd7",
            "45fb4e09e9a33b1e"
        ],
        "x": 360,
        "y": 3920,
        "wires": [
            [
                "3dc0a1448336a11b"
            ]
        ],
        "l": true
    },
    {
        "id": "45fb4e09e9a33b1e",
        "type": "link out",
        "z": "c68dc494590553a0",
        "name": "DASH PATH POSE OUT",
        "mode": "link",
        "links": [
            "a449df471e95ccf4"
        ],
        "x": 970,
        "y": 3880,
        "wires": [],
        "l": true
    },
    {
        "id": "c3daa7ea792b9811",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Convert Pose to Stamped",
        "func": "msg.payload = { \n  header : {\n    frame_id: global.get(\"ros_world_frame\")\n  },\n  pose : msg.payload\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1490,
        "y": 3140,
        "wires": [
            [
                "4e628a077ede50ad",
                "2e9ffceebb048a17",
                "071095c0cba6bbbb"
            ]
        ]
    },
    {
        "id": "04d95265e2ebf6bd",
        "type": "link in",
        "z": "c68dc494590553a0",
        "name": "PUBLISH GOAL POSE",
        "links": [
            "8ebb580cc2585ec8",
            "29b4ec8d2a43709e",
            "a0067e464c1ea33e",
            "bc4545c76cdda841"
        ],
        "x": 1200,
        "y": 3140,
        "wires": [
            [
                "c3daa7ea792b9811",
                "614095fe8b8c842c",
                "8d9d113e86554409"
            ]
        ],
        "l": true
    },
    {
        "id": "29b4ec8d2a43709e",
        "type": "link out",
        "z": "c68dc494590553a0",
        "name": "PUBLISH POSE OUT",
        "mode": "link",
        "links": [
            "04d95265e2ebf6bd"
        ],
        "x": 820,
        "y": 3140,
        "wires": [],
        "l": true
    },
    {
        "id": "d2e465a612c595ce",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "current_task",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 660,
        "y": 4000,
        "wires": [
            [
                "cb98cc1972974fda"
            ]
        ]
    },
    {
        "id": "e8a95db0da5cab3c",
        "type": "link in",
        "z": "c68dc494590553a0",
        "name": "UPDATE PRODUCTION PATH",
        "links": [
            "33d2be3aab688dd7",
            "795202df0f86045a"
        ],
        "x": 360,
        "y": 4000,
        "wires": [
            [
                "d2e465a612c595ce"
            ]
        ],
        "l": true
    },
    {
        "id": "a0067e464c1ea33e",
        "type": "link out",
        "z": "c68dc494590553a0",
        "name": "DASH POSE Update",
        "mode": "link",
        "links": [
            "04d95265e2ebf6bd"
        ],
        "x": 960,
        "y": 3840,
        "wires": [],
        "l": true
    },
    {
        "id": "0db52634c0eb8034",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "e2828d41d9660087",
        "name": "",
        "label": "EuroContainer Slot",
        "tooltip": "",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "0",
        "max": "1",
        "step": "1",
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 890,
        "y": 4180,
        "wires": [
            [
                "4270be29875cad51"
            ]
        ]
    },
    {
        "id": "cc13a0edfdeb3da2",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "e2828d41d9660087",
        "name": "",
        "label": "EuroContainer SPL Slot",
        "tooltip": "",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "0",
        "max": "9",
        "step": "1",
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 910,
        "y": 4220,
        "wires": [
            [
                "8eaf639b572317c3"
            ]
        ]
    },
    {
        "id": "792e6e9b332fd68c",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "e2828d41d9660087",
        "name": "",
        "label": "RedBoard SPL Slot",
        "tooltip": "",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "0",
        "max": "7",
        "step": "1",
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 890,
        "y": 4260,
        "wires": [
            [
                "e17f3977a35840bd"
            ]
        ]
    },
    {
        "id": "2768df4053df10c2",
        "type": "ui-dropdown",
        "z": "c68dc494590553a0",
        "group": "e2828d41d9660087",
        "name": "",
        "label": "ACTION",
        "tooltip": "",
        "order": 1,
        "width": "2",
        "height": "1",
        "passthru": false,
        "multiple": false,
        "chips": false,
        "clearable": false,
        "options": [
            {
                "label": "NONE",
                "value": "0",
                "type": "str"
            },
            {
                "label": "MOVE_CONT_RED",
                "value": 1,
                "type": "num"
            },
            {
                "label": "MOVE_RED_CONT",
                "value": 2,
                "type": "num"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "typeIsComboBox": true,
        "msgTrigger": "onChange",
        "x": 860,
        "y": 4120,
        "wires": [
            [
                "cdf3a315461071e4"
            ]
        ]
    },
    {
        "id": "cdf3a315461071e4",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Change Current Action",
        "func": "/*\nflow.set(\"current_task\", {\n    action: 1,\n    slots: [0, 1, 6]\n});\n*/\nvar current_task = flow.get(\"current_task\");\n\nif(current_task.action !== msg.payload)\n{\n    current_task.action = msg.payload;\n    return msg;\n};\n\nreturn null;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1320,
        "y": 4120,
        "wires": [
            [
                "11131cdb3929ab9a"
            ]
        ]
    },
    {
        "id": "11131cdb3929ab9a",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Update CurrrentTask Slots",
        "func": "/*\nflow.set(\"current_task\", {\n    action: 1,\n    slots: [0, 1, 6]\n});\n*/\nvar current_task = flow.get(\"current_task\");\nswitch (current_task.action)\n{\n    case 1:\n    {\n        current_task.slots = [\n            flow.get(\"current_eurocontainer_slot\"),\n            flow.get(\"current_eurocontainer_spl_slot\"),\n            flow.get(\"current_redboard_spl_slot\")\n        ]\n        break;\n    }\n\n    case 2:\n    {\n        current_task.slots = [\n            flow.get(\"current_redboard_spl_slot\"),\n            flow.get(\"current_eurocontainer_slot\"),\n            flow.get(\"current_eurocontainer_spl_slot\")\n        ]\n        break;\n    }\n    default:\n\n        node.warn(\"INVALID ACTION\");\n        return null;\n}\n\nflow.set(\"current_task\", current_task);\nmsg.payload = current_task\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1620,
        "y": 4200,
        "wires": [
            [
                "795202df0f86045a"
            ]
        ]
    },
    {
        "id": "4270be29875cad51",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "current_eurocontainer_slot",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 4180,
        "wires": [
            [
                "11131cdb3929ab9a"
            ]
        ]
    },
    {
        "id": "8eaf639b572317c3",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "current_eurocontainer_spl_slot",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1260,
        "y": 4220,
        "wires": [
            [
                "11131cdb3929ab9a"
            ]
        ]
    },
    {
        "id": "e17f3977a35840bd",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "current_redboard_spl_slot",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1280,
        "y": 4260,
        "wires": [
            [
                "11131cdb3929ab9a"
            ]
        ]
    },
    {
        "id": "795202df0f86045a",
        "type": "link out",
        "z": "c68dc494590553a0",
        "name": "UPDATE PRODUCTION PATH",
        "mode": "link",
        "links": [
            "e8a95db0da5cab3c",
            "3e2bf9309f31a5c4"
        ],
        "x": 1950,
        "y": 4200,
        "wires": [],
        "l": true
    },
    {
        "id": "c1a89deb80318fe6",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Change Current Action",
        "func": "\nmsg.payload = flow.get(\"current_task\").action;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 4120,
        "wires": [
            [
                "2768df4053df10c2"
            ]
        ]
    },
    {
        "id": "75bb341d70c1479d",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "current_eurocontainer_slot",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 4180,
        "wires": [
            [
                "0db52634c0eb8034"
            ]
        ]
    },
    {
        "id": "e3b6f1a4f8dad8d0",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "current_eurocontainer_spl_slot",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 4220,
        "wires": [
            [
                "cc13a0edfdeb3da2"
            ]
        ]
    },
    {
        "id": "dea919b30ca836d0",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "current_redboard_spl_slot",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 4260,
        "wires": [
            [
                "792e6e9b332fd68c"
            ]
        ]
    },
    {
        "id": "3e2bf9309f31a5c4",
        "type": "link in",
        "z": "c68dc494590553a0",
        "name": "DASH UPDATE TASK",
        "links": [
            "33d2be3aab688dd7",
            "795202df0f86045a"
        ],
        "x": 340,
        "y": 4200,
        "wires": [
            [
                "75bb341d70c1479d",
                "c1a89deb80318fe6",
                "e3b6f1a4f8dad8d0",
                "dea919b30ca836d0"
            ]
        ],
        "l": true
    },
    {
        "id": "2ecb79cc6bf6014b",
        "type": "ui-dropdown",
        "z": "c68dc494590553a0",
        "group": "70db46e8f99cb872",
        "name": "",
        "label": "MOVE GROUP",
        "tooltip": "",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "multiple": false,
        "chips": false,
        "clearable": false,
        "options": [
            {
                "label": "",
                "value": "",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "typeIsComboBox": true,
        "msgTrigger": "onChange",
        "x": 1100,
        "y": 4420,
        "wires": [
            [
                "4c33a50fc3893a39"
            ]
        ]
    },
    {
        "id": "a691079c575b9810",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "DASH SETUP MOVE GROUP Options",
        "func": "const groups = global.get('move_groups') || [];\n\nmsg.options = groups.map(g => ({\n    label: g.name,\n    value: g.name\n}));\n\nmsg.payload = flow.get(\"selected_move_group\");\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 790,
        "y": 4420,
        "wires": [
            [
                "2ecb79cc6bf6014b"
            ]
        ]
    },
    {
        "id": "04a572f3a873fd27",
        "type": "link in",
        "z": "c68dc494590553a0",
        "name": "DASH UPDATE MOVEGROUP OPTIONS",
        "links": [
            "0e93388e45693e52"
        ],
        "x": 400,
        "y": 4420,
        "wires": [
            [
                "a691079c575b9810"
            ]
        ],
        "l": true
    },
    {
        "id": "7a8da5ea37dc2523",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "OpenGrippers",
        "func": "msg.payload = {\n  \"header\": {\n    \"seq\": 5060,\n    \"stamp\": {\n      \"secs\": 1769686986,\n      \"nsecs\": 354053258\n    },\n    \"frame_id\": \"\"\n  },\n  \"name\": [\n    \"gripper_l_joint\",\n    \"gripper_l_joint_m\"\n  ],\n  \"position\": [\n    0, 0\n  ],\n  \"velocity\": [],\n  \"effort\": []\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 940,
        "y": 2060,
        "wires": [
            [
                "be30d4fc45be1938"
            ]
        ]
    },
    {
        "id": "9cf24bcef48ef282",
        "type": "inject",
        "z": "c68dc494590553a0",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 700,
        "y": 2080,
        "wires": [
            [
                "7a8da5ea37dc2523"
            ]
        ]
    },
    {
        "id": "4d2beb3a3d33bc6c",
        "type": "inject",
        "z": "c68dc494590553a0",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 700,
        "y": 2000,
        "wires": [
            [
                "f233616f9ca90523"
            ]
        ]
    },
    {
        "id": "f233616f9ca90523",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "CloseGrippers",
        "func": "msg.payload = {\n  \"header\": {\n    \"seq\": 5060,\n    \"stamp\": {\n      \"secs\": 1769686986,\n      \"nsecs\": 354053258\n    },\n    \"frame_id\": \"\"\n  },\n  \"name\": [\n    \"gripper_l_joint\",\n    \"gripper_l_joint_m\"\n  ],\n  \"position\": [\n    0.25, 0.25\n  ],\n  \"velocity\": [],\n  \"effort\": []\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 940,
        "y": 2020,
        "wires": [
            [
                "be30d4fc45be1938"
            ]
        ]
    },
    {
        "id": "4c33a50fc3893a39",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "selected_move_group",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1390,
        "y": 4420,
        "wires": [
            [
                "97cc69cdb73b4f68"
            ]
        ]
    },
    {
        "id": "97cc69cdb73b4f68",
        "type": "link call",
        "z": "c68dc494590553a0",
        "name": "SWITCH_MOVE_GROUP",
        "links": [
            "d5c772764a197584"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 1710,
        "y": 4420,
        "wires": [
            []
        ]
    },
    {
        "id": "c114e6e0c0dc83ca",
        "type": "debug",
        "z": "c68dc494590553a0",
        "name": "debug 3",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1480,
        "y": 3960,
        "wires": []
    },
    {
        "id": "f1b5fdbb775ecb1a",
        "type": "link in",
        "z": "c68dc494590553a0",
        "name": "DASH UPDATE GOAL POSE",
        "links": [
            "071095c0cba6bbbb"
        ],
        "x": 360,
        "y": 4540,
        "wires": [
            [
                "1db44d0249d3920d"
            ]
        ],
        "l": true
    },
    {
        "id": "3d739b6e2a82773b",
        "type": "ui-table",
        "z": "c68dc494590553a0",
        "group": "70db46e8f99cb872",
        "name": "",
        "label": "POSE HISTORY",
        "order": 2,
        "width": 0,
        "height": 0,
        "maxrows": "4",
        "passthru": false,
        "autocols": true,
        "showSearch": true,
        "deselect": true,
        "selectionType": "none",
        "columns": [],
        "mobileBreakpoint": "sm",
        "mobileBreakpointType": "defaults",
        "action": "replace",
        "className": "",
        "x": 1340,
        "y": 4540,
        "wires": [
            []
        ]
    },
    {
        "id": "071095c0cba6bbbb",
        "type": "link out",
        "z": "c68dc494590553a0",
        "name": "DASH UPDATE GOAL POSE",
        "mode": "link",
        "links": [
            "f1b5fdbb775ecb1a"
        ],
        "x": 1800,
        "y": 3220,
        "wires": [],
        "l": true
    },
    {
        "id": "c138119918eaeb52",
        "type": "ui-button",
        "z": "c68dc494590553a0",
        "group": "70db46e8f99cb872",
        "name": "",
        "label": "CLEAR",
        "order": 3,
        "width": 0,
        "height": 0,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 300,
        "y": 4620,
        "wires": [
            [
                "8397dd8f5839ce69"
            ]
        ]
    },
    {
        "id": "11ea258bdd9ed445",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "history",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1020,
        "y": 4540,
        "wires": [
            [
                "3d739b6e2a82773b"
            ]
        ]
    },
    {
        "id": "1db44d0249d3920d",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Update History",
        "func": "var history = flow.get(\"history\") || [];\n\nhistory.push(msg.payload);\n\nflow.set(\"history\", history);\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 4540,
        "wires": [
            [
                "11ea258bdd9ed445",
                "42df599ecd14754e"
            ]
        ]
    },
    {
        "id": "8397dd8f5839ce69",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "history",
                "pt": "flow",
                "to": "[]",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 4620,
        "wires": [
            [
                "11ea258bdd9ed445"
            ]
        ]
    },
    {
        "id": "0faaaa4654a18d50",
        "type": "link in",
        "z": "c68dc494590553a0",
        "name": "DASH UPDATE MOVEGROUP STATUS",
        "links": [
            "e69a7357686b106a",
            "f34033d998ddea92"
        ],
        "x": 390,
        "y": 4500,
        "wires": [
            [
                "1db44d0249d3920d"
            ]
        ],
        "l": true
    },
    {
        "id": "42df599ecd14754e",
        "type": "debug",
        "z": "c68dc494590553a0",
        "name": "HISTORY UPDATED",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1040,
        "y": 4620,
        "wires": []
    },
    {
        "id": "41b8b583ad1aa792",
        "type": "ui-button",
        "z": "c68dc494590553a0",
        "group": "24c4815848824551",
        "name": "",
        "label": "LEFT ARM HOME Joint Command",
        "order": 38,
        "width": 0,
        "height": 0,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 380,
        "y": 1940,
        "wires": [
            [
                "f5a5400a15f56d89"
            ]
        ]
    },
    {
        "id": "f5a5400a15f56d89",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Setup joint_states ROS message",
        "func": "msg.payload = flow.get( \"leftarm_home_joint_states\")\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 800,
        "y": 1940,
        "wires": [
            [
                "be30d4fc45be1938"
            ]
        ]
    },
    {
        "id": "c6191d2deea32706",
        "type": "link in",
        "z": "c68dc494590553a0",
        "name": "LEFT ARM HOME Joint Command",
        "links": [],
        "x": 380,
        "y": 1980,
        "wires": [
            [
                "f5a5400a15f56d89"
            ]
        ],
        "l": true
    },
    {
        "id": "af231608f2ba1814",
        "type": "ui-slider",
        "z": "c68dc494590553a0",
        "group": "e2828d41d9660087",
        "name": "",
        "label": "TASK INDEX",
        "tooltip": "",
        "order": 12,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "topic",
        "topicType": "msg",
        "thumbLabel": "true",
        "showTicks": "always",
        "min": "0",
        "max": "20",
        "step": "1",
        "className": "",
        "iconPrepend": "",
        "iconAppend": "",
        "color": "",
        "colorTrack": "",
        "colorThumb": "",
        "showTextField": true,
        "x": 930,
        "y": 4800,
        "wires": [
            [
                "d0c68cc9f53d22e8"
            ]
        ]
    },
    {
        "id": "d0c68cc9f53d22e8",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "spl_production_task_index",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1220,
        "y": 4800,
        "wires": [
            []
        ]
    },
    {
        "id": "6f9512307f83d394",
        "type": "link in",
        "z": "c68dc494590553a0",
        "name": "DASH TASK PATH STARTUP",
        "links": [
            "4457b00cb5e7f136"
        ],
        "x": 360,
        "y": 4800,
        "wires": [
            [
                "a148612c1e549ece"
            ]
        ],
        "l": true
    },
    {
        "id": "5e047515a02fe002",
        "type": "link in",
        "z": "c68dc494590553a0",
        "name": "UPDATE TASK PLAN",
        "links": [
            "296b1f32383ddca5"
        ],
        "x": 340,
        "y": 4900,
        "wires": [
            [
                "7c372f0c49e06a6e"
            ]
        ],
        "l": true
    },
    {
        "id": "296b1f32383ddca5",
        "type": "link out",
        "z": "c68dc494590553a0",
        "name": "UPDATE TASK PLAN",
        "mode": "link",
        "links": [
            "5e047515a02fe002"
        ],
        "x": 1760,
        "y": 4000,
        "wires": [],
        "l": true
    },
    {
        "id": "7c372f0c49e06a6e",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Create Task Plan from Path/Task",
        "func": "var RobotAction = global.get(\"RobotAction\");\n\nvar current_task = flow.get(\"current_task\");\nvar path = flow.get(\"path\");\n\nvar task_plan = []\n\nswitch(current_task.action)\n{\n    case RobotAction.MOVE_CONT_RED:\n    case RobotAction.MOVE_RED_CONT:\n    {\n        for (let index = 0; index < path.length; index++) {\n            task_plan.push({\n                action: RobotAction.MOVE,\n                robot_id: \"left_arm\",\n                pose: path[index]\n            });\n            if(index === 1)\n            {\n                task_plan.push({\n                    action: RobotAction.GRASP,\n                    robot_id: \"left_gripper\",\n                    pose: path[index]\n                });\n\n            }\n            if(index === 4)\n            {\n                task_plan.push({\n                    action: RobotAction.RELEASE,\n                    robot_id: \"left_gripper\",\n                    pose: path[index]\n                });\n            }\n        }\n        break;\n    }\n}\ntask_plan.push({\n    action: RobotAction.MOVE,\n    robot_id: \"left_arm\",\n    joint_state: \"HOME\"\n});\n\nflow.set(\"task_plan\", task_plan);\n\nmsg.payload = task_plan;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 690,
        "y": 4900,
        "wires": [
            [
                "d91c1b32cef2f5f2",
                "e665a0f81ce2392a"
            ]
        ]
    },
    {
        "id": "d91c1b32cef2f5f2",
        "type": "debug",
        "z": "c68dc494590553a0",
        "name": "debug 21",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1060,
        "y": 4860,
        "wires": []
    },
    {
        "id": "d42c41ef76bda5e0",
        "type": "ui-button",
        "z": "c68dc494590553a0",
        "group": "e2828d41d9660087",
        "name": "",
        "label": "NEXT TASK",
        "order": 10,
        "width": 0,
        "height": 0,
        "emulateClick": false,
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "iconPosition": "left",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "buttonColor": "",
        "textColor": "",
        "iconColor": "",
        "enableClick": true,
        "enablePointerdown": false,
        "pointerdownPayload": "",
        "pointerdownPayloadType": "str",
        "enablePointerup": false,
        "pointerupPayload": "",
        "pointerupPayloadType": "str",
        "x": 310,
        "y": 5140,
        "wires": [
            [
                "ba67e54c3806d122"
            ]
        ]
    },
    {
        "id": "4457b00cb5e7f136",
        "type": "link out",
        "z": "c68dc494590553a0",
        "name": "DASH TASK Update",
        "mode": "link",
        "links": [
            "6f9512307f83d394"
        ],
        "x": 1480,
        "y": 4900,
        "wires": [],
        "l": true
    },
    {
        "id": "ba67e54c3806d122",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "GetNextTask",
        "func": "msg.payload = flow.get(\"task_plan\")[flow.get(\"spl_production_task_index\")]\nflow.set(\"current_robot_task\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 550,
        "y": 5140,
        "wires": [
            [
                "2ebbad6c21e2c3a6",
                "f553134ce4225040"
            ]
        ]
    },
    {
        "id": "e665a0f81ce2392a",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "spl_production_task_index",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 4900,
        "wires": [
            [
                "4457b00cb5e7f136"
            ]
        ]
    },
    {
        "id": "a148612c1e549ece",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Update Dash Tash Index",
        "func": "return {\n    payload: flow.get(\"spl_production_task_index\"),\n    ui_update: {\n        max: flow.get(\"task_plan\").length\n    }\n};",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 4800,
        "wires": [
            [
                "af231608f2ba1814"
            ]
        ]
    },
    {
        "id": "2ebbad6c21e2c3a6",
        "type": "switch",
        "z": "c68dc494590553a0",
        "name": "",
        "property": "payload.robot_id",
        "propertyType": "msg",
        "rules": [
            {
                "t": "neq",
                "v": "selected_move_group",
                "vt": "flow"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 770,
        "y": 5140,
        "wires": [
            [
                "105a3876b3a3f3db"
            ],
            [
                "fcdc1460bebd1af9",
                "e28fa8e43b6b91cc"
            ]
        ]
    },
    {
        "id": "105a3876b3a3f3db",
        "type": "change",
        "z": "c68dc494590553a0",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "selected_move_group",
                "pt": "flow",
                "to": "payload.robot_id",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1070,
        "y": 5120,
        "wires": [
            [
                "0a3e98ee87f870cc"
            ]
        ]
    },
    {
        "id": "0a3e98ee87f870cc",
        "type": "link call",
        "z": "c68dc494590553a0",
        "name": "SWITCH_MOVE_GROUP",
        "links": [
            "d5c772764a197584"
        ],
        "linkType": "static",
        "timeout": "30",
        "x": 1370,
        "y": 5120,
        "wires": [
            [
                "e28fa8e43b6b91cc"
            ]
        ]
    },
    {
        "id": "f553134ce4225040",
        "type": "debug",
        "z": "c68dc494590553a0",
        "name": "NEXT TASK",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 790,
        "y": 5100,
        "wires": []
    },
    {
        "id": "c9f8088c9d575e49",
        "type": "debug",
        "z": "c68dc494590553a0",
        "name": "MOVE TASK",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1410,
        "y": 5260,
        "wires": []
    },
    {
        "id": "71d94f5cbf9714e3",
        "type": "debug",
        "z": "c68dc494590553a0",
        "name": "GRIPPER TASK",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1420,
        "y": 5360,
        "wires": []
    },
    {
        "id": "e28fa8e43b6b91cc",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "SWITCH RobotAction",
        "func": "var current_robot_task = flow.get(\"current_robot_task\");\n\nvar RobotAction = global.get(\"RobotAction\");\n\n\nswitch(current_robot_task.action)\n{\n    case RobotAction.MOVE:\n    {\n        return [{ payload: current_robot_task.pose }, null];\n    }\n    case RobotAction.GRASP:\n    case RobotAction.RELEASE:\n    {\n        return [null, { payload: current_robot_task.action }];\n    }\n}\nnode.warn(\"INVALID ACTION\")\nreturn [null, null];",
        "outputs": 2,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1120,
        "y": 5300,
        "wires": [
            [
                "c9f8088c9d575e49",
                "a467b0191f89132e"
            ],
            [
                "71d94f5cbf9714e3",
                "c4078a090a3ec8e8"
            ]
        ],
        "outputLabels": [
            "MOVE",
            "GRASP/RELEASE"
        ]
    },
    {
        "id": "fcdc1460bebd1af9",
        "type": "debug",
        "z": "c68dc494590553a0",
        "name": "SAME ROBOT ID",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload.robot_id",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 5180,
        "wires": []
    },
    {
        "id": "bc4545c76cdda841",
        "type": "link out",
        "z": "c68dc494590553a0",
        "name": "TASK POSE Update",
        "mode": "link",
        "links": [
            "04d95265e2ebf6bd"
        ],
        "x": 1660,
        "y": 5220,
        "wires": [],
        "l": true
    },
    {
        "id": "c4078a090a3ec8e8",
        "type": "link out",
        "z": "c68dc494590553a0",
        "name": "GRIPPER Update",
        "mode": "link",
        "links": [
            "73a67d730c990199"
        ],
        "x": 1430,
        "y": 5320,
        "wires": [],
        "l": true
    },
    {
        "id": "73a67d730c990199",
        "type": "link in",
        "z": "c68dc494590553a0",
        "name": "LEFT ARM GRIPPER Joint Command",
        "links": [
            "c4078a090a3ec8e8"
        ],
        "x": 390,
        "y": 2040,
        "wires": [
            [
                "225254cd4c37cfd8"
            ]
        ],
        "l": true
    },
    {
        "id": "225254cd4c37cfd8",
        "type": "switch",
        "z": "c68dc494590553a0",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "11",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "12",
                "vt": "num"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 690,
        "y": 2040,
        "wires": [
            [
                "7a8da5ea37dc2523"
            ],
            [
                "f233616f9ca90523"
            ]
        ]
    },
    {
        "id": "a467b0191f89132e",
        "type": "function",
        "z": "c68dc494590553a0",
        "name": "Convert Pose",
        "func": "function rpyToQuaternion(rpy) {\n  \n  // Convert half angles\n  const cy = Math.cos(rpy.yaw * (Math.PI / 180) * 0.5);\n  const sy = Math.sin(rpy.yaw * (Math.PI / 180) * 0.5);\n  const cp = Math.cos(rpy.pitch * (Math.PI / 180) * 0.5);\n  const sp = Math.sin(rpy.pitch * (Math.PI / 180) * 0.5);\n  const cr = Math.cos(rpy.roll * (Math.PI / 180) * 0.5);\n  const sr = Math.sin(rpy.roll * (Math.PI / 180) * 0.5);\n\n  const q = {\n    x: sr * cp * cy - cr * sp * sy,\n    y: cr * sp * cy + sr * cp * sy,\n    z: cr * cp * sy - sr * sp * cy,\n    w: cr * cp * cy + sr * sp * sy\n  };\n\n  return q;\n}\n\nmsg.payload = {\n  position: msg.payload.pose.position,\n  orientation: rpyToQuaternion(msg.payload.pose.orientation)\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1420,
        "y": 5220,
        "wires": [
            [
                "bc4545c76cdda841"
            ]
        ]
    },
    {
        "id": "16511e0e2b0e6eaf",
        "type": "debug",
        "z": "58de6cfd0e1f91cf",
        "name": "OBJECT POSES",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 260,
        "wires": []
    },
    {
        "id": "a56ccb142412e4a3",
        "type": "debug",
        "z": "58de6cfd0e1f91cf",
        "name": "debug 18",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1020,
        "y": 500,
        "wires": []
    },
    {
        "id": "e03532cc81e3b74b",
        "type": "function",
        "z": "58de6cfd0e1f91cf",
        "name": "PoseToTF",
        "func": "const pose = msg.payload.pose;\n\n// Frame naming (change as needed)\nconst parentFrame = global.get(\"ros_world_frame\");\nconst childFrame  = msg.payload.name;\n\n// Timestamp (ROS2 style)\nconst now = Date.now();\nconst sec = Math.floor(now / 1000);\nconst nanosec = (now % 1000) * 1e6;\n\nmsg.payload = {\n    transforms: [\n        {\n            header: {\n                frame_id: parentFrame,\n                stamp: {\n                    sec: sec,\n                    nanosec: nanosec\n                }\n            },\n            child_frame_id: childFrame,\n            transform: {\n                translation: {\n                    x: pose.pose.position.x,\n                    y: pose.pose.position.y,\n                    z: pose.pose.position.z\n                },\n                rotation: {\n                    x: pose.pose.orientation.x,\n                    y: pose.pose.orientation.y,\n                    z: pose.pose.orientation.z,\n                    w: pose.pose.orientation.w\n                }\n            }\n        }\n    ]\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 820,
        "y": 540,
        "wires": [
            [
                "87d4ce8081a6fac5",
                "a56ccb142412e4a3"
            ]
        ]
    },
    {
        "id": "87d4ce8081a6fac5",
        "type": "ros-publish",
        "z": "58de6cfd0e1f91cf",
        "server": "4bf02018241b669e",
        "topicname": "/tf",
        "msgtype": "tf2_msgs/TFMessage",
        "x": 1010,
        "y": 540,
        "wires": []
    },
    {
        "id": "ba737c0db4f1f15f",
        "type": "function",
        "z": "58de6cfd0e1f91cf",
        "name": "CreateCollisionObject",
        "func": "// Configuration\nconst boxId = msg.payload.name + \"_box\";\nconst linkName = global.get(\"ros_world_frame\");          // Robot link to attach to\nconst collisionFrame = msg.payload.name; // TF frame you published\n\nvar colision_objects = flow.get(\"colision_objects\");\nif (!colision_objects || !Array.isArray(colision_objects)) {\n    node.error(\"Collision colision_objects not available\");\n    return null;\n}\n\nif (!msg.payload || !msg.payload.name) {\n    node.warn(\"Incoming message has no name\");\n    return null;\n}\n\nvar name = msg.payload.name.toLowerCase();\nnode.warn(\"NAME \" + name + \" Will Include ...\");\nvar collision_object = colision_objects.find(entry =>\n    name.includes(entry.type.toLowerCase())\n);\n\nnode.warn(collision_object.type + \" : \" + JSON.stringify(collision_object.box));\n\nif (!collision_object) {\n    node.warn(`No collision object match for name: ${msg.payload.name}`);\n    return null;\n}\n\nmsg.payload = {\n    link_name: linkName,\n    object: {\n        id: boxId,\n        operation: 0, // ADD\n        header: {\n            frame_id: collisionFrame\n        },\n        primitives: [\n            {\n                type: 1, // BOX\n                dimensions: [\n                    collision_object.box.x,\n                    collision_object.box.y,\n                    collision_object.box.z\n                ]\n            }\n        ],\n        primitive_poses: [\n            {\n                position: { x: 0, y: 0, z: 0 },\n                orientation: { x: 0, y: 0, z: 0, w: 1 }\n            }\n        ]\n    }\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 940,
        "y": 680,
        "wires": [
            [
                "02ac8f4741247104",
                "ce0802886eed961f"
            ]
        ]
    },
    {
        "id": "02ac8f4741247104",
        "type": "ros-publish",
        "z": "58de6cfd0e1f91cf",
        "server": "4bf02018241b669e",
        "topicname": "/attached_collision_object",
        "msgtype": "moveit_msgs/AttachedCollisionObject",
        "x": 1230,
        "y": 680,
        "wires": []
    },
    {
        "id": "5216c21b10c959a1",
        "type": "inject",
        "z": "58de6cfd0e1f91cf",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 300,
        "y": 740,
        "wires": [
            [
                "450ddcce0f83c34d"
            ]
        ]
    },
    {
        "id": "904a9a3144a05d83",
        "type": "link in",
        "z": "58de6cfd0e1f91cf",
        "name": "PROCESS OBJECT ROS",
        "links": [
            "018013521726872c",
            "20fd3909d23e268d",
            "a2d921d655104a71",
            "0cd58b0c32f0ea81",
            "d9268c761ac22e7e",
            "16484e1890c799eb",
            "e74fee85d6a38bf6"
        ],
        "x": 270,
        "y": 300,
        "wires": [
            [
                "39aed324555ec7b7",
                "16511e0e2b0e6eaf"
            ]
        ],
        "l": true
    },
    {
        "id": "39aed324555ec7b7",
        "type": "function",
        "z": "58de6cfd0e1f91cf",
        "name": "SaveObjectPose",
        "func": "// Incoming data\nconst name = msg.name;\nconst pose = msg.payload;\n\nif (!name || !pose) {\n    node.warn(\"Missing name or pose\");\n    return null;\n}\n\n// Get existing array (or init)\nlet poses = flow.get(\"object_poses\");\nif (!Array.isArray(poses)) {\n    poses = [];\n}\n\n// Find existing entry\nconst index = poses.findIndex(p => p.name === name);\n\nif (index === -1) {\n    // New name  push\n    poses.push({\n        name: name,\n        pose: pose\n    });\n    node.log(`Added new pose: ${name}`);\n} else {\n    // Existing name  update (optional behavior)\n    poses[index].pose = pose;\n    node.log(`Updated pose: ${name}`);\n}\n\nposes.sort((a, b) =>\n    a.name.toLowerCase().localeCompare(b.name.toLowerCase())\n);\n\n// Save back to context\nflow.set(\"object_poses\", poses);\n\n// Optional outputs\nmsg.payload = poses;\nmsg.count = poses.length;\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 300,
        "wires": [
            [
                "16511e0e2b0e6eaf",
                "07f5c1e7ddfffa40"
            ]
        ]
    },
    {
        "id": "b69bf94cca558f50",
        "type": "split",
        "z": "58de6cfd0e1f91cf",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "payload",
        "x": 630,
        "y": 540,
        "wires": [
            [
                "e03532cc81e3b74b"
            ]
        ]
    },
    {
        "id": "40d8904a8c7cc1e1",
        "type": "inject",
        "z": "58de6cfd0e1f91cf",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 540,
        "wires": [
            [
                "4164b9b603bd2275"
            ]
        ]
    },
    {
        "id": "4164b9b603bd2275",
        "type": "change",
        "z": "58de6cfd0e1f91cf",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "object_poses",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 420,
        "y": 540,
        "wires": [
            [
                "b69bf94cca558f50"
            ]
        ]
    },
    {
        "id": "450ddcce0f83c34d",
        "type": "change",
        "z": "58de6cfd0e1f91cf",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "object_poses",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 520,
        "y": 680,
        "wires": [
            [
                "130b3891c50494b3"
            ]
        ]
    },
    {
        "id": "130b3891c50494b3",
        "type": "split",
        "z": "58de6cfd0e1f91cf",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "property": "payload",
        "x": 710,
        "y": 680,
        "wires": [
            [
                "ba737c0db4f1f15f"
            ]
        ]
    },
    {
        "id": "07f5c1e7ddfffa40",
        "type": "link out",
        "z": "58de6cfd0e1f91cf",
        "name": "OBJECT_POSES_OUT",
        "mode": "link",
        "links": [
            "0142dc90ad47b764",
            "dc4e8d83ce1b9c28",
            "7e667bf0becc6820"
        ],
        "x": 880,
        "y": 300,
        "wires": [],
        "l": true
    },
    {
        "id": "049e558a03e86f1e",
        "type": "function",
        "z": "58de6cfd0e1f91cf",
        "name": "STARTUP",
        "func": "\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "flow.set(\"colision_objects\", [\n    {\n        model: \"Intel Realsense D435\",\n        type: \"camera\",\n        box: {\n            x: 0.090,\n            y: 0.025,\n            z: 0.025\n        }\n    },\n    {\n        model: \"UNP SPL Redboard\",\n        type: \"redboard\",\n        box: {\n            x: 0.12,\n            y: 0.14,\n            z: 0.03\n        }\n    },\n    {\n        model: \"EuroContainer AUER EG 21512 HG\",\n        type: \"container\",\n        box: {\n            x: 0.200,\n            y: 0.150,\n            z: 0.120\n        }\n    }\n]);\n",
        "finalize": "",
        "libs": [],
        "x": 220,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "ce0802886eed961f",
        "type": "debug",
        "z": "58de6cfd0e1f91cf",
        "name": "debug 20",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1180,
        "y": 640,
        "wires": []
    },
    {
        "id": "61e7aff71ceacd19",
        "type": "ui-table",
        "z": "58de6cfd0e1f91cf",
        "group": "a9c613c8ecaed95c",
        "name": "",
        "label": "OBJECTS",
        "order": 1,
        "width": 0,
        "height": 0,
        "maxrows": "8",
        "passthru": false,
        "autocols": false,
        "showSearch": true,
        "deselect": true,
        "selectionType": "none",
        "columns": [
            {
                "title": "NAME",
                "key": "name",
                "keyType": "key",
                "type": "text",
                "width": "50",
                "align": "start"
            },
            {
                "title": "X",
                "key": "pose.pose.position.x",
                "keyType": "key",
                "type": "text",
                "width": "",
                "align": "start"
            },
            {
                "title": "Y",
                "key": "pose.pose.position.y",
                "keyType": "key",
                "type": "text",
                "width": "",
                "align": "start"
            },
            {
                "title": "Z",
                "key": "pose.pose.position.z",
                "keyType": "key",
                "type": "text",
                "width": "",
                "align": "start"
            }
        ],
        "mobileBreakpoint": "sm",
        "mobileBreakpointType": "defaults",
        "action": "replace",
        "className": "",
        "x": 840,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "74e7bfe63790d1c5",
        "type": "inject",
        "z": "58de6cfd0e1f91cf",
        "name": "STARTUP",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "",
        "payloadType": "str",
        "x": 220,
        "y": 160,
        "wires": [
            [
                "4cb6061aa22b7057"
            ]
        ]
    },
    {
        "id": "4cb6061aa22b7057",
        "type": "link out",
        "z": "58de6cfd0e1f91cf",
        "name": "STARTUP",
        "mode": "link",
        "links": [
            "dc4e8d83ce1b9c28"
        ],
        "x": 470,
        "y": 160,
        "wires": [],
        "l": true
    },
    {
        "id": "66cd66c924d249df",
        "type": "change",
        "z": "58de6cfd0e1f91cf",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "object_poses",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 360,
        "wires": [
            [
                "61e7aff71ceacd19"
            ]
        ]
    },
    {
        "id": "dc4e8d83ce1b9c28",
        "type": "link in",
        "z": "58de6cfd0e1f91cf",
        "name": "DASH UPDATE OBJECTS TABLE",
        "links": [
            "4cb6061aa22b7057",
            "07f5c1e7ddfffa40"
        ],
        "x": 290,
        "y": 360,
        "wires": [
            [
                "66cd66c924d249df"
            ]
        ],
        "l": true
    },
    {
        "id": "7e667bf0becc6820",
        "type": "link in",
        "z": "58de6cfd0e1f91cf",
        "name": "UPDATE COLLISION OBJECTS",
        "links": [
            "07f5c1e7ddfffa40"
        ],
        "x": 230,
        "y": 680,
        "wires": [
            [
                "450ddcce0f83c34d"
            ]
        ],
        "l": true
    },
    {
        "id": "39423a72af92de80",
        "type": "function",
        "z": "a88af1e1e73ea3b9",
        "name": "ROS Handle Functions",
        "func": "\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "/**\n * \n * ROS Handle Functions\n * \n */\nglobal.set(\"ROSStampToDate\", function (stamp) {\n\n    if (!stamp || stamp.secs === undefined || stamp.nsecs === undefined) {\n        node.error(\"No valid ROS stamp found\", msg);\n        return null;\n    }\n\n    // Convert to milliseconds\n    const ms = (stamp.secs * 1000) + Math.floor(stamp.nsecs / 1e6);\n\n    // Create JS Date\n    return new Date(ms);\n});\n\nglobal.set(\"dateToROSStamp\", function (date) {\n\n    if (!(date instanceof Date)) {\n        date = new Date(date);\n    }\n\n    if (isNaN(date.getTime())) {\n        node.error(\"Invalid Date\", msg);\n        return null;\n    }\n\n    // Convert\n    const ms = date.getTime();\n\n    return {\n        secs: Math.floor(ms / 1000),\n        nsecs: (ms % 1000) * 1e6\n    }\n});\n",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "084b4c0567bcb683",
        "type": "function",
        "z": "a88af1e1e73ea3b9",
        "name": "RobotAction",
        "func": "\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "// ==========================================\n// GLOBAL ENUMS AND HELPERS - Initialize on Node-RED start\n// ==========================================\n\n// Robot Action ENUM\nconst RobotAction = Object.freeze({\n    NONE: 0,\n    MOVE_CONT_RED: 1,\n    MOVE_RED_CONT: 2,\n    MOVE: 10,\n    GRASP: 11,\n    RELEASE: 12\n});\n\n// Create reverse lookup map\nconst RobotActionName = Object.freeze(\n    Object.fromEntries(\n        Object.entries(RobotAction).map(([k, v]) => [v, k])\n    )\n);\n\n// Function: Convert ENUM value to string\nfunction actionToString(actionValue) {\n    return RobotActionName[actionValue] || \"UNKNOWN\";\n}\n\n// Function: Convert string to ENUM value (case-insensitive)\nfunction stringToAction(actionString) {\n    if (typeof actionString !== 'string') return null;\n    const normalized = actionString.toUpperCase();\n    return RobotAction.hasOwnProperty(normalized) ? RobotAction[normalized] : null;\n}\n\n// Store in GLOBAL context (accessible across all flows)\nglobal.set('RobotAction', RobotAction);\nglobal.set('RobotActionName', RobotActionName);\nglobal.set('actionToString', actionToString);\nglobal.set('stringToAction', stringToAction);\n\n// Log initialization\nnode.warn(\" Global ENUMS initialized:\");\nnode.warn(\"  - RobotAction: \" + JSON.stringify(RobotAction));",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 180,
        "wires": [
            []
        ]
    }
]